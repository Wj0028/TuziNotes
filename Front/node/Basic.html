<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <link rel="icon" href="/images/Rab4.png"><title>Basic | åƒå…”å­çš„é±¼é¦™è‚‰ä¸</title><meta name="description" content="åƒé±¼é¦™è‚‰ä¸çš„ğŸ‡ HOME">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/TuziNotes/assets/style-51c38b48.css" as="style"><link rel="stylesheet" href="/TuziNotes/assets/style-51c38b48.css">
    <link rel="modulepreload" href="/TuziNotes/assets/app-351592dd.js"><link rel="modulepreload" href="/TuziNotes/assets/framework-5fb02f36.js"><link rel="modulepreload" href="/TuziNotes/assets/Basic.html-304ec130.js"><link rel="modulepreload" href="/TuziNotes/assets/Basic.html-143397f4.js"><link rel="prefetch" href="/TuziNotes/assets/index.html-c8d085a7.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/slides.html-d72e2dcb.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-cd3974cb.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-a3a9cd69.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/disable.html-52c6ee09.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/encrypt.html-ca7b69ee.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/markdown.html-3b7cbe61.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/page.html-a5149c82.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-0d8c8456.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-979001c3.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-caee4b5f.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-8c72884c.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-a23e1fb8.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Basic.html-2d6c2aa0.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Code.html-32d2a2b9.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Job.html-df883502.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-e94705b0.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Basic.html-be0ec75c.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Code.html-17d47fa2.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Job.html-dc06ac28.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-0d8cc955.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Basic.html-405f2052.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Code.html-a3a7273b.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Job.html-ccd5ab73.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-14227943.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Code.html-3dc44c0d.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Job.html-0f6a4a5a.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-f8c3887a.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-ad5b5098.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/ã€ŠReact18-hookså­¦ä¹ æŒ‡å—ã€‹.html-80768953.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-b6127ff7.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/TypeScript å­¦ä¹ æŒ‡å—-å¹²è´§ç‰ˆ.html-2b0a5330.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/typescript.html-a92c0847.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-b1b30598.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Vue2.html-30030315.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Vue3.html-4f45494f.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/vuex.html-bc984867.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/baz.html-9a60276a.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-27f80037.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/ray.html-1d21bc21.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-c1c45bbb.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-6106178f.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/webpack5å­¦ä¹ æŒ‡å—-V1.0.html-71f0aacc.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/404.html-81a48005.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-0f3e2e46.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-2f94500f.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/slides.html-84e7f1bf.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-39ff3b47.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-259903d9.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/disable.html-7ce3aac5.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/encrypt.html-072628b7.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/markdown.html-8b22c2d2.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/page.html-028be04c.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-725b5d9a.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-135e4114.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-23d8e300.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-fd6d2fe6.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-8318115b.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Basic.html-16563ef7.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Code.html-b932b3a2.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Job.html-a47d196b.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-d3ac1333.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Basic.html-88bde17a.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Code.html-bba16727.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Job.html-cac4657e.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-47f5e1d4.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Basic.html-ceaefad0.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Code.html-5112334b.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Job.html-990395da.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-c336019e.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Code.html-d9c09eb5.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Job.html-8927e0ea.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-57cdfa01.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-1d9adf83.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/ã€ŠReact18-hookså­¦ä¹ æŒ‡å—ã€‹.html-611918a0.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-a404ecb4.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/TypeScript å­¦ä¹ æŒ‡å—-å¹²è´§ç‰ˆ.html-d424c191.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/typescript.html-a9f3dc06.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-4e0d434f.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Vue2.html-254e2988.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/Vue3.html-748444a2.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/vuex.html-029e5f07.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/baz.html-86a6f217.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-c1f52c04.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/ray.html-e4aa7cbf.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-d0282dbf.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-23225f30.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/webpack5å­¦ä¹ æŒ‡å—-V1.0.html-8b8bbee7.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/404.html-4751c658.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/index.html-2b80b5dd.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/auto-ba5ecab5.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/flowchart-35969cab.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/mermaid.core-3db680d7.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/highlight.esm-a794bb63.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/markdown.esm-d92a2fc9.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/notes.esm-224f94d9.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/reveal.esm-e5069ce0.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/search.esm-2c3fba7d.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/VuePlayground-75b0fa4e.js" as="script"><link rel="prefetch" href="/TuziNotes/assets/photoswipe.esm-6e6cbe40.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/TuziNotes/" class="brand"><img class="logo" src="/TuziNotes/images/Rab5.png" alt="åƒå…”å­çš„é±¼é¦™è‚‰ä¸"><!----><span class="site-name hide-in-pad">åƒå…”å­çš„é±¼é¦™è‚‰ä¸</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/TuziNotes/" class="nav-link" aria-label="Home"><span class="font-icon icon iconfont icon-home" style=""></span>Home<!----></a></div><div class="nav-item hide-in-mobile"><a href="/TuziNotes/Front/" class="nav-link active" aria-label="å‰ç«¯"><span class="font-icon icon iconfont icon-note" style=""></span>å‰ç«¯<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Tool"><span class="title"><span class="font-icon icon iconfont icon-tool" style=""></span>Tool</span><span class="arrow"></span><ul class="nav-dropdown"></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Debug"><span class="title"><span class="font-icon icon iconfont icon-bug" style=""></span>Debug</span><span class="arrow"></span><ul class="nav-dropdown"></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="èµ„æº"><span class="title"><span class="font-icon icon iconfont icon-link" style=""></span>èµ„æº</span><span class="arrow"></span><ul class="nav-dropdown"></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/Wj0028/TuziNotes.git" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!----><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/TuziNotes/Front/" class="nav-link sidebar-link sidebar-page" aria-label="Front"><span class="font-icon icon iconfont icon-creative" style=""></span>Front<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-css" style=""></span><span class="title">Cssç›¸å…³</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-html" style=""></span><span class="title">Htmlç›¸å…³</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-javascript" style=""></span><span class="title">JavaScriptç›¸å…³</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="font-icon icon iconfont icon-nodeJS" style=""></span><span class="title">Node ç›¸å…³</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/TuziNotes/Front/node/Basic.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Basic"><!---->Basic<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_1ã€ç‰¹æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1ã€ç‰¹æ€§"><!---->1ã€ç‰¹æ€§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_2ã€ä¸¾ä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2ã€ä¸¾ä¾‹"><!---->2ã€ä¸¾ä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_1ã€nvm-node-version-manager" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1ã€NVM: Node Version Manager"><!---->1ã€NVM: Node Version Manager<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_2ã€npm-node-package-manager" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2ã€NPM: Node Package Manager"><!---->2ã€NPM: Node Package Manager<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_3ã€nrm-npm-registry-manager" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3ã€NRM: npm registry manager"><!---->3ã€NRM: npm registry manager<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_4ã€npx-npm-package-extention" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4ã€NPX: npm package extention"><!---->4ã€NPX: npm package extention<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_1ã€æ¨¡å—-åŒ…åˆ†ç±»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1ã€æ¨¡å—/åŒ…åˆ†ç±»"><!---->1ã€æ¨¡å—/åŒ…åˆ†ç±»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_1ã€url" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1ã€url"><!---->1ã€url<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_2ã€querystring" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2ã€querystring"><!---->2ã€querystring<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_3ã€http-https" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3ã€http/https"><!---->3ã€http/https<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_4ã€file-system" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4ã€File System"><!---->4ã€File System<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_5ã€crypto" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5ã€Crypto"><!---->5ã€Crypto<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_5-1-readstaticfile" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.1 readStaticFile"><!---->5.1 readStaticFile<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_5-2-server" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.2 server"><!---->5.2 server<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_5-3-æœ€ç»ˆç›®å½•ç»“æ„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.3 æœ€ç»ˆç›®å½•ç»“æ„"><!---->5.3 æœ€ç»ˆç›®å½•ç»“æ„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#ä¸€ã€ç‰¹è‰²" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸€ã€ç‰¹è‰²"><!---->ä¸€ã€ç‰¹è‰²<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#äºŒã€å®‰è£…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="äºŒã€å®‰è£…"><!---->äºŒã€å®‰è£…<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#ä¸‰ã€hello-world-å®ä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸‰ã€Hello world å®ä¾‹"><!---->ä¸‰ã€Hello world å®ä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#å››ã€è·¯ç”±-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å››ã€è·¯ç”±"><!---->å››ã€è·¯ç”±<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#äº”ã€åˆ©ç”¨-express-æ‰˜ç®¡é™æ€æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="äº”ã€åˆ©ç”¨ Express æ‰˜ç®¡é™æ€æ–‡ä»¶"><!---->äº”ã€åˆ©ç”¨ Express æ‰˜ç®¡é™æ€æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#å…­ã€ä½¿ç”¨ä¸­é—´ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å…­ã€ä½¿ç”¨ä¸­é—´ä»¶"><!---->å…­ã€ä½¿ç”¨ä¸­é—´ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_3ã€é”™è¯¯å¤„ç†ä¸­é—´ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3ã€é”™è¯¯å¤„ç†ä¸­é—´ä»¶"><!---->3ã€é”™è¯¯å¤„ç†ä¸­é—´ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_4ã€å†…ç½®ä¸­é—´ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4ã€å†…ç½®ä¸­é—´ä»¶"><!---->4ã€å†…ç½®ä¸­é—´ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#ä¸ƒã€åœ¨-express-ä¸­ä½¿ç”¨æ¨¡æ¿å¼•æ“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸ƒã€åœ¨ Express ä¸­ä½¿ç”¨æ¨¡æ¿å¼•æ“"><!---->ä¸ƒã€åœ¨ Express ä¸­ä½¿ç”¨æ¨¡æ¿å¼•æ“<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/TuziNotes/Front/node/Job.html" class="nav-link sidebar-link sidebar-page" aria-label="Html_é¢è¯•"><!---->Html_é¢è¯•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/TuziNotes/Front/node/Code.html" class="nav-link sidebar-link sidebar-page" aria-label="Html_Code"><!---->Html_Code<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-react" style=""></span><span class="title">React ç›¸å…³</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-ts" style=""></span><span class="title">Ts ç›¸å…³</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-vue" style=""></span><span class="title">Vue ä½“ç³»</span><span class="arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Basic</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href=" " target="_blank" rel="noopener noreferrer">Tuzi</a></span><span property="author" content="Tuzi"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-03-16T04:01:52.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 28 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT28M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_1ã€ç‰¹æ€§" class="router-link-active router-link-exact-active toc-link level3">1ã€ç‰¹æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_2ã€ä¸¾ä¾‹" class="router-link-active router-link-exact-active toc-link level3">2ã€ä¸¾ä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_1ã€nvm-node-version-manager" class="router-link-active router-link-exact-active toc-link level3">1ã€NVM: Node Version Manager</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_2ã€npm-node-package-manager" class="router-link-active router-link-exact-active toc-link level3">2ã€NPM: Node Package Manager</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_3ã€nrm-npm-registry-manager" class="router-link-active router-link-exact-active toc-link level3">3ã€NRM: npm registry manager</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_4ã€npx-npm-package-extention" class="router-link-active router-link-exact-active toc-link level3">4ã€NPX: npm package extention</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_1ã€æ¨¡å—-åŒ…åˆ†ç±»" class="router-link-active router-link-exact-active toc-link level3">1ã€æ¨¡å—/åŒ…åˆ†ç±»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_1ã€url" class="router-link-active router-link-exact-active toc-link level3">1ã€url</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_2ã€querystring" class="router-link-active router-link-exact-active toc-link level3">2ã€querystring</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_3ã€http-https" class="router-link-active router-link-exact-active toc-link level3">3ã€http/https</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_4ã€file-system" class="router-link-active router-link-exact-active toc-link level3">4ã€File System</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_5ã€crypto" class="router-link-active router-link-exact-active toc-link level3">5ã€Crypto</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_5-1-readstaticfile" class="router-link-active router-link-exact-active toc-link level3">5.1 readStaticFile</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_5-2-server" class="router-link-active router-link-exact-active toc-link level3">5.2 server</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_5-3-æœ€ç»ˆç›®å½•ç»“æ„" class="router-link-active router-link-exact-active toc-link level3">5.3 æœ€ç»ˆç›®å½•ç»“æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#ä¸€ã€ç‰¹è‰²" class="router-link-active router-link-exact-active toc-link level3">ä¸€ã€ç‰¹è‰²</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#äºŒã€å®‰è£…" class="router-link-active router-link-exact-active toc-link level3">äºŒã€å®‰è£…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#ä¸‰ã€hello-world-å®ä¾‹" class="router-link-active router-link-exact-active toc-link level3">ä¸‰ã€Hello world å®ä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#å››ã€è·¯ç”±-1" class="router-link-active router-link-exact-active toc-link level3">å››ã€è·¯ç”±</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#äº”ã€åˆ©ç”¨-express-æ‰˜ç®¡é™æ€æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level3">äº”ã€åˆ©ç”¨ Express æ‰˜ç®¡é™æ€æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#å…­ã€ä½¿ç”¨ä¸­é—´ä»¶" class="router-link-active router-link-exact-active toc-link level3">å…­ã€ä½¿ç”¨ä¸­é—´ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_3ã€é”™è¯¯å¤„ç†ä¸­é—´ä»¶" class="router-link-active router-link-exact-active toc-link level3">3ã€é”™è¯¯å¤„ç†ä¸­é—´ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#_4ã€å†…ç½®ä¸­é—´ä»¶" class="router-link-active router-link-exact-active toc-link level3">4ã€å†…ç½®ä¸­é—´ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/TuziNotes/Front/node/Basic.html#ä¸ƒã€åœ¨-express-ä¸­ä½¿ç”¨æ¨¡æ¿å¼•æ“" class="router-link-active router-link-exact-active toc-link level3">ä¸ƒã€åœ¨ Express ä¸­ä½¿ç”¨æ¨¡æ¿å¼•æ“</a></li><!----><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="ä¸€ã€node-js-æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€node-js-æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> ä¸€ã€Node.js æ˜¯ä»€ä¹ˆ</h1><p>Node.jsÂ® is a JavaScript runtime built on Chrome&#39;s V8 JavaScript engine.</p><p>Node.jsÂ® is an open-source, cross-platform JavaScript runtime environment.</p><h3 id="_1ã€ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#_1ã€ç‰¹æ€§" aria-hidden="true">#</a> 1ã€ç‰¹æ€§</h3><p>Node.js å¯ä»¥è§£æ JS ä»£ç ï¼ˆæ²¡æœ‰æµè§ˆå™¨å®‰å…¨çº§åˆ«çš„é™åˆ¶ï¼‰æä¾›å¾ˆå¤šç³»ç»Ÿçº§åˆ«çš„ APIï¼Œå¦‚ï¼š</p><ul><li>æ–‡ä»¶çš„è¯»å†™ (File System)</li><li>è¿›ç¨‹çš„ç®¡ç† (Process)</li><li>ç½‘ç»œé€šä¿¡ (HTTP/HTTPS)</li><li>â€¦â€¦</li></ul><h3 id="_2ã€ä¸¾ä¾‹" tabindex="-1"><a class="header-anchor" href="#_2ã€ä¸¾ä¾‹" aria-hidden="true">#</a> 2ã€ä¸¾ä¾‹</h3><h4 id="_2-1-æµè§ˆå™¨å®‰å…¨çº§åˆ«çš„é™åˆ¶" tabindex="-1"><a class="header-anchor" href="#_2-1-æµè§ˆå™¨å®‰å…¨çº§åˆ«çš„é™åˆ¶" aria-hidden="true">#</a> 2.1 æµè§ˆå™¨å®‰å…¨çº§åˆ«çš„é™åˆ¶</h4><p><strong>Ajax æµ‹è¯•</strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>browser-safe-sandbox<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>browser-safe-sandbox<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
			<span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>
				<span class="token string">&#39;get&#39;</span><span class="token punctuation">,</span>
				<span class="token string">&#39;https://m.maoyan.com/ajax/moreClassicList?sortId=1&amp;showType=3&amp;limit=10&amp;offset=30&amp;optimus_uuid=A5518FF0AFEC11EAAB158D7AB0D05BBBD74C9789D9F649898982E6542C7DD479&amp;optimus_risk_level=71&amp;optimus_code=10&#39;</span><span class="token punctuation">,</span>
				<span class="token boolean">false</span>
			<span class="token punctuation">)</span><span class="token punctuation">;</span>
			xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµè§ˆå™¨é¢„è§ˆ</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>browser-sync start --server --files **/* --directory
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-2-æ–‡ä»¶çš„è¯»å†™-file-system" tabindex="-1"><a class="header-anchor" href="#_2-2-æ–‡ä»¶çš„è¯»å†™-file-system" aria-hidden="true">#</a> 2.2 æ–‡ä»¶çš„è¯»å†™ (File System)</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./ajax.png&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-è¿›ç¨‹çš„ç®¡ç†-process" tabindex="-1"><a class="header-anchor" href="#_2-3-è¿›ç¨‹çš„ç®¡ç†-process" aria-hidden="true">#</a> 2.3 è¿›ç¨‹çš„ç®¡ç†ï¼ˆProcessï¼‰</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>è¿è¡Œ</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>node 2.3-process.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-4-ç½‘ç»œé€šä¿¡-http-https" tabindex="-1"><a class="header-anchor" href="#_2-4-ç½‘ç»œé€šä¿¡-http-https" aria-hidden="true">#</a> 2.4 ç½‘ç»œé€šä¿¡ï¼ˆHTTP/HTTPSï¼‰</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token string-property property">&#39;content-type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;text/plain&#39;</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&#39;hello nodejs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="äºŒã€node-ç›¸å…³å·¥å…·" tabindex="-1"><a class="header-anchor" href="#äºŒã€node-ç›¸å…³å·¥å…·" aria-hidden="true">#</a> äºŒã€Node ç›¸å…³å·¥å…·</h1><h3 id="_1ã€nvm-node-version-manager" tabindex="-1"><a class="header-anchor" href="#_1ã€nvm-node-version-manager" aria-hidden="true">#</a> 1ã€NVM: Node Version Manager</h3><p><strong>1.1 Mac å®‰è£… nvm</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>https://github.com/nvm-sh/nvm/blob/master/README.md
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>1.2 Windows å®‰è£… nvm</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>nvm-windows
nodist
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€npm-node-package-manager" tabindex="-1"><a class="header-anchor" href="#_2ã€npm-node-package-manager" aria-hidden="true">#</a> 2ã€NPM: Node Package Manager</h3><h4 id="_2-1-å…¨å±€å®‰è£…-package" tabindex="-1"><a class="header-anchor" href="#_2-1-å…¨å±€å®‰è£…-package" aria-hidden="true">#</a> 2.1 å…¨å±€å®‰è£… package</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npm install forever --global (-g)
$ forever
$ npm uninstall forever --global
$ forever
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å…¨å±€å®‰è£…åŒ…çš„ç›®å½•</strong></p><ul><li><p>Mac</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/Users/felix/.nvm/versions/node/nvmå„ä¸ªç‰ˆæœ¬/bin/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>Windows</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>C:\Users\ä½ çš„ç”¨æˆ·å\AppData\Roaming\npm\node_modules
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h4 id="_2-2-æœ¬åœ°å®‰è£…-package" tabindex="-1"><a class="header-anchor" href="#_2-2-æœ¬åœ°å®‰è£…-package" aria-hidden="true">#</a> 2.2 æœ¬åœ°å®‰è£… package</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ cd ~/desktop
$ mkdir gp-project
$ cd gp-project
$ npm install underscore
$ npm list (ls)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-package-json-åˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#_2-3-package-json-åˆå§‹åŒ–" aria-hidden="true">#</a> 2.3 package.json åˆå§‹åŒ–</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ pwd
$ npm init -y
$ ls
$ cat package.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-4-ä½¿ç”¨-package-json" tabindex="-1"><a class="header-anchor" href="#_2-4-ä½¿ç”¨-package-json" aria-hidden="true">#</a> 2.4 ä½¿ç”¨ package.json</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npm install underscore --save
$ cat package.json
$ npm install lodash --save-dev
$ cat package.json
$ rm -rf node_modules
$ ls
$ npm install
$ npm uninstall underscore --save
$ npm list | grep underscore
$ cat package.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-5-å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„åŒ…" tabindex="-1"><a class="header-anchor" href="#_2-5-å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„åŒ…" aria-hidden="true">#</a> 2.5 å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„åŒ…</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ pwd
$ npm list
$ npm info underscore
$ npm view underscore versions
$ npm install underscore@1.8.0
$ npm list
$ npm uninstall underscore
$ npm list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-6-æ›´æ–°æœ¬åœ°å®‰è£…çš„åŒ…" tabindex="-1"><a class="header-anchor" href="#_2-6-æ›´æ–°æœ¬åœ°å®‰è£…çš„åŒ…" aria-hidden="true">#</a> 2.6 æ›´æ–°æœ¬åœ°å®‰è£…çš„åŒ…</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npm info underscore
$ npm view underscore versions
$ npm install underscore@1.4.4 --save-dev
$ npm list | grep gulp
$ npm outdated //~2.0.0è¡¨ç¤ºpatch, ^2.0.0è¡¨ç¤ºminor * è¡¨ç¤ºxxæœ€æ–°ç‰ˆæœ¬
$ npm list | grep gulp
$ npm update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-7-æ¸…é™¤ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#_2-7-æ¸…é™¤ç¼“å­˜" aria-hidden="true">#</a> 2.7 æ¸…é™¤ç¼“å­˜</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm cache clean --force
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-8-ä¸Šä¼ è‡ªå·±çš„åŒ…" tabindex="-1"><a class="header-anchor" href="#_2-8-ä¸Šä¼ è‡ªå·±çš„åŒ…" aria-hidden="true">#</a> 2.8 ä¸Šä¼ è‡ªå·±çš„åŒ…</h4><h6 id="_2-8-1-ç¼–å†™æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_2-8-1-ç¼–å†™æ¨¡å—" aria-hidden="true">#</a> 2.8.1 ç¼–å†™æ¨¡å—</h6><p>ä¿å­˜ä¸º index.js</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>exports<span class="token punctuation">.</span><span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token string">&#39;Hello World&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="_2-8-2-åˆå§‹åŒ–åŒ…æè¿°æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_2-8-2-åˆå§‹åŒ–åŒ…æè¿°æ–‡ä»¶" aria-hidden="true">#</a> 2.8.2 åˆå§‹åŒ–åŒ…æè¿°æ–‡ä»¶</h6><p>$ npm init package.json</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gp19-npm&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.1&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gp19 self module&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;make test&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Git&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git+https://github.com/lurongtao/gp19-npm.git&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;demo&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Felixlu&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;bugs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/lurongtao/gp19-npm/issues&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/lurongtao/gp19-npm#readme&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="_2-8-3-æ³¨å†Œ-npm-ä»“åº“è´¦å·" tabindex="-1"><a class="header-anchor" href="#_2-8-3-æ³¨å†Œ-npm-ä»“åº“è´¦å·" aria-hidden="true">#</a> 2.8.3 æ³¨å†Œ npm ä»“åº“è´¦å·</h6><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>https://www.npmjs.com ä¸Šé¢çš„è´¦å·
felix_lurt/qqmko09ijn
$ npm adduser
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="_2-8-4-ä¸Šä¼ åŒ…" tabindex="-1"><a class="header-anchor" href="#_2-8-4-ä¸Šä¼ åŒ…" aria-hidden="true">#</a> 2.8.4 ä¸Šä¼ åŒ…</h6><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npm publish
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å‘ï¼š403 Forbidden</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>æŸ¥çœ‹npmæºï¼šnpm config get registry
åˆ‡æ¢npmæºæ–¹æ³•ä¸€ï¼šnpm config set registry http://registry.npmjs.org
åˆ‡æ¢npmæºæ–¹æ³•äºŒï¼šnrm use npm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="_2-8-5-å®‰è£…åŒ…" tabindex="-1"><a class="header-anchor" href="#_2-8-5-å®‰è£…åŒ…" aria-hidden="true">#</a> 2.8.5 å®‰è£…åŒ…</h6><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npm install gp19-npm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h6 id="_2-8-6-å¸è½½åŒ…" tabindex="-1"><a class="header-anchor" href="#_2-8-6-å¸è½½åŒ…" aria-hidden="true">#</a> 2.8.6 å¸è½½åŒ…</h6><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>æŸ¥çœ‹å½“å‰é¡¹ç›®å¼•ç”¨äº†å“ªäº›åŒ… ï¼š
npm ls
å¸è½½åŒ…ï¼š
npm unpublish --force
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="_2-8-7-ä½¿ç”¨å¼•å…¥åŒ…" tabindex="-1"><a class="header-anchor" href="#_2-8-7-ä½¿ç”¨å¼•å…¥åŒ…" aria-hidden="true">#</a> 2.8.7 ä½¿ç”¨å¼•å…¥åŒ…</h6><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>var hello = require(&#39;gp19-npm&#39;)
hello.sayHello()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-9-npm-è„šæœ¬" tabindex="-1"><a class="header-anchor" href="#_2-9-npm-è„šæœ¬" aria-hidden="true">#</a> 2.9 npm è„šæœ¬</h4><p>Node å¼€å‘ç¦»ä¸å¼€ npmï¼Œè€Œè„šæœ¬åŠŸèƒ½æ˜¯ npm æœ€å¼ºå¤§ã€æœ€å¸¸ç”¨çš„åŠŸèƒ½ä¹‹ä¸€ã€‚</p><p><strong>ä¸€ã€ä»€ä¹ˆæ˜¯ npm è„šæœ¬ï¼Ÿ</strong></p><p>npm å…è®¸åœ¨ package.json æ–‡ä»¶é‡Œé¢ï¼Œä½¿ç”¨ scripts å­—æ®µå®šä¹‰è„šæœ¬å‘½ä»¤ã€‚</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
	<span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node build.js&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>äºŒã€æ‰§è¡Œé¡ºåº</strong></p><p>å¦‚æœ npm è„šæœ¬é‡Œé¢éœ€è¦æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œé‚£ä¹ˆéœ€è¦æ˜ç¡®å®ƒä»¬çš„æ‰§è¡Œé¡ºåºã€‚</p><p>script1.js</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>script2.js</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
<span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;script1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node script1.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;script2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node script2.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæ˜¯å¹¶è¡Œæ‰§è¡Œï¼ˆå³åŒæ—¶çš„å¹³è¡Œæ‰§è¡Œï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>&amp;</code> ç¬¦å·ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npm run script1 &amp; npm run script2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœæ˜¯ç»§å‘æ‰§è¡Œï¼ˆå³åªæœ‰å‰ä¸€ä¸ªä»»åŠ¡æˆåŠŸï¼Œæ‰æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>&amp;&amp;</code> ç¬¦å·ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npm run script1 &amp;&amp; npm run script2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>ä¸‰ã€ç®€å†™å½¢å¼</strong></p><p>å¸¸ç”¨çš„ npm è„šæœ¬ç®€å†™å½¢å¼ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm start æ˜¯ npm run start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-10-npm-å®‰è£…-git-ä¸Šå‘å¸ƒçš„åŒ…" tabindex="-1"><a class="header-anchor" href="#_2-10-npm-å®‰è£…-git-ä¸Šå‘å¸ƒçš„åŒ…" aria-hidden="true">#</a> 2.10 npm å®‰è£… git ä¸Šå‘å¸ƒçš„åŒ…</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># è¿™æ ·é€‚åˆå®‰è£…å…¬å¸å†…éƒ¨çš„gitæœåŠ¡å™¨ä¸Šçš„é¡¹ç›®
npm install git+https://git@github.com:lurongtao/gp-project.git

# æˆ–è€…ä»¥sshçš„æ–¹å¼
npm install git+ssh://git@github.com:lurongtao/gp-project.git
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-11-cross-env-ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_2-11-cross-env-ä½¿ç”¨" aria-hidden="true">#</a> 2.11 cross-env ä½¿ç”¨</h4><h5 id="_2-11-1-cross-env-æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#_2-11-1-cross-env-æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> 2.11.1 cross-env æ˜¯ä»€ä¹ˆ</h5><p>è¿è¡Œè·¨å¹³å°è®¾ç½®å’Œä½¿ç”¨ç¯å¢ƒå˜é‡çš„è„šæœ¬</p><h5 id="_2-11-2-å‡ºç°åŸå› " tabindex="-1"><a class="header-anchor" href="#_2-11-2-å‡ºç°åŸå› " aria-hidden="true">#</a> 2.11.2 å‡ºç°åŸå› </h5><p>å½“æ‚¨ä½¿ç”¨ NODE_ENV=production, æ¥è®¾ç½®ç¯å¢ƒå˜é‡æ—¶ï¼Œå¤§å¤šæ•° Windows å‘½ä»¤æç¤ºå°†ä¼šé˜»å¡(æŠ¥é”™)ã€‚ï¼ˆå¼‚å¸¸æ˜¯ Windows ä¸Šçš„ Bashï¼Œå®ƒä½¿ç”¨æœ¬æœº Bashã€‚ï¼‰æ¢è¨€ä¹‹ï¼ŒWindows ä¸æ”¯æŒ NODE_ENV=production çš„è®¾ç½®æ–¹å¼ã€‚</p><h5 id="_2-11-3-è§£å†³" tabindex="-1"><a class="header-anchor" href="#_2-11-3-è§£å†³" aria-hidden="true">#</a> 2.11.3 è§£å†³</h5><p>cross-env ä½¿å¾—æ‚¨å¯ä»¥ä½¿ç”¨å•ä¸ªå‘½ä»¤ï¼Œè€Œä¸å¿…æ‹…å¿ƒä¸ºå¹³å°æ­£ç¡®è®¾ç½®æˆ–ä½¿ç”¨ç¯å¢ƒå˜é‡ã€‚è¿™ä¸ªè¿·ä½ çš„åŒ…(cross-env)èƒ½å¤Ÿæä¾›ä¸€ä¸ªè®¾ç½®ç¯å¢ƒå˜é‡çš„ scriptsï¼Œè®©ä½ èƒ½å¤Ÿä»¥ Unix æ–¹å¼è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œç„¶ååœ¨ Windows ä¸Šä¹Ÿèƒ½å…¼å®¹è¿è¡Œã€‚</p><h5 id="_2-11-4-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#_2-11-4-å®‰è£…" aria-hidden="true">#</a> 2.11.4 å®‰è£…</h5><p>npm install --save-dev cross-env</p><h5 id="_2-11-5-ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_2-11-5-ä½¿ç”¨" aria-hidden="true">#</a> 2.11.5 ä½¿ç”¨</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cross-env NODE_ENV=production webpack --config build/webpack.config.js&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>NODE_ENV ç¯å¢ƒå˜é‡å°†ç”± cross-env è®¾ç½® æ‰“å° p<wbr>rocess.env.NODE_ENV === &#39;production&#39;</p><h3 id="_3ã€nrm-npm-registry-manager" tabindex="-1"><a class="header-anchor" href="#_3ã€nrm-npm-registry-manager" aria-hidden="true">#</a> 3ã€NRM: npm registry manager</h3><h4 id="_3-1-æ‰‹å·¥åˆ‡æ¢æº" tabindex="-1"><a class="header-anchor" href="#_3-1-æ‰‹å·¥åˆ‡æ¢æº" aria-hidden="true">#</a> 3.1 æ‰‹å·¥åˆ‡æ¢æº</h4><h5 id="_3-1-1-æŸ¥çœ‹å½“å‰æº" tabindex="-1"><a class="header-anchor" href="#_3-1-1-æŸ¥çœ‹å½“å‰æº" aria-hidden="true">#</a> 3.1.1 æŸ¥çœ‹å½“å‰æº</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm config get registry
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="_3-1-2-åˆ‡æ¢æ·˜å®æº" tabindex="-1"><a class="header-anchor" href="#_3-1-2-åˆ‡æ¢æ·˜å®æº" aria-hidden="true">#</a> 3.1.2 åˆ‡æ¢æ·˜å®æº</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm config set registry https://registry.npm.taobao.org
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-2-nrm-ç®¡ç†æº" tabindex="-1"><a class="header-anchor" href="#_3-2-nrm-ç®¡ç†æº" aria-hidden="true">#</a> 3.2 NRM ç®¡ç†æº</h4><p>NRM (npm registry manager)æ˜¯ npm çš„é•œåƒæºç®¡ç†å·¥å…·ï¼Œæœ‰æ—¶å€™å›½å¤–èµ„æºå¤ªæ…¢ï¼Œä½¿ç”¨è¿™ä¸ªå°±å¯ä»¥å¿«é€Ÿåœ°åœ¨ npm æºé—´åˆ‡æ¢ã€‚</p><h5 id="_3-2-1-å®‰è£…-nrm" tabindex="-1"><a class="header-anchor" href="#_3-2-1-å®‰è£…-nrm" aria-hidden="true">#</a> 3.2.1 å®‰è£… nrm</h5><p>åœ¨å‘½ä»¤è¡Œæ‰§è¡Œå‘½ä»¤ï¼Œnpm install -g nrmï¼Œå…¨å±€å®‰è£… nrmã€‚</p><h5 id="_3-2-2-ä½¿ç”¨-nrm" tabindex="-1"><a class="header-anchor" href="#_3-2-2-ä½¿ç”¨-nrm" aria-hidden="true">#</a> 3.2.2 ä½¿ç”¨ nrm</h5><p>æ‰§è¡Œå‘½ä»¤ nrm ls æŸ¥çœ‹å¯é€‰çš„æºã€‚ å…¶ä¸­ï¼Œå¸¦*çš„æ˜¯å½“å‰ä½¿ç”¨çš„æºï¼Œä¸Šé¢çš„è¾“å‡ºè¡¨æ˜å½“å‰æºæ˜¯å®˜æ–¹æºã€‚</p><h5 id="_3-2-3-åˆ‡æ¢-nrm" tabindex="-1"><a class="header-anchor" href="#_3-2-3-åˆ‡æ¢-nrm" aria-hidden="true">#</a> 3.2.3 åˆ‡æ¢ nrm</h5><p>å¦‚æœè¦åˆ‡æ¢åˆ° taobao æºï¼Œæ‰§è¡Œå‘½ä»¤ nrm use taobaoã€‚</p><h5 id="_3-2-4-æµ‹è¯•é€Ÿåº¦" tabindex="-1"><a class="header-anchor" href="#_3-2-4-æµ‹è¯•é€Ÿåº¦" aria-hidden="true">#</a> 3.2.4 æµ‹è¯•é€Ÿåº¦</h5><p>ä½ è¿˜å¯ä»¥é€šè¿‡ nrm test æµ‹è¯•ç›¸åº”æºçš„å“åº”æ—¶é—´ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>nrm test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4ã€npx-npm-package-extention" tabindex="-1"><a class="header-anchor" href="#_4ã€npx-npm-package-extention" aria-hidden="true">#</a> 4ã€NPX: npm package extention</h3><p>npm ä» 5.2 ç‰ˆå¼€å§‹ï¼Œå¢åŠ äº† npx å‘½ä»¤ã€‚å®ƒæœ‰å¾ˆå¤šç”¨å¤„ï¼Œæœ¬æ–‡ä»‹ç»è¯¥å‘½ä»¤çš„ä¸»è¦ä½¿ç”¨åœºæ™¯ã€‚</p><p>Node è‡ªå¸¦ npm æ¨¡å—ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨ npx å‘½ä»¤ã€‚ä¸‡ä¸€ä¸èƒ½ç”¨ï¼Œå°±è¦æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npm install -g npx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_4-1-è°ƒç”¨é¡¹ç›®å®‰è£…çš„æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_4-1-è°ƒç”¨é¡¹ç›®å®‰è£…çš„æ¨¡å—" aria-hidden="true">#</a> 4.1 è°ƒç”¨é¡¹ç›®å®‰è£…çš„æ¨¡å—</h4><p>npx æƒ³è¦è§£å†³çš„ä¸»è¦é—®é¢˜ï¼Œå°±æ˜¯è°ƒç”¨é¡¹ç›®å†…éƒ¨å®‰è£…çš„æ¨¡å—ã€‚æ¯”å¦‚ï¼Œé¡¹ç›®å†…éƒ¨å®‰è£…äº† Mochaã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npm install -D mocha
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸€èˆ¬æ¥è¯´ï¼Œè°ƒç”¨ Mocha ï¼Œåªèƒ½åœ¨é¡¹ç›®è„šæœ¬å’Œ package.json çš„ scripts å­—æ®µé‡Œé¢ï¼Œå¦‚æœæƒ³åœ¨å‘½ä»¤è¡Œä¸‹è°ƒç”¨ï¼Œå¿…é¡»åƒä¸‹é¢è¿™æ ·ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œ
$ node-modules/.bin/mocha --version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>npx å°±æ˜¯æƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè®©é¡¹ç›®å†…éƒ¨å®‰è£…çš„æ¨¡å—ç”¨èµ·æ¥æ›´æ–¹ä¾¿ï¼Œåªè¦åƒä¸‹é¢è¿™æ ·è°ƒç”¨å°±è¡Œäº†ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npx mocha --version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>npx çš„åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯è¿è¡Œçš„æ—¶å€™ï¼Œä¼šåˆ° node_modules/.bin è·¯å¾„å’Œç¯å¢ƒå˜é‡$PATH é‡Œé¢ï¼Œæ£€æŸ¥å‘½ä»¤æ˜¯å¦å­˜åœ¨ã€‚</p><p>ç”±äº npx ä¼šæ£€æŸ¥ç¯å¢ƒå˜é‡$PATHï¼Œæ‰€ä»¥ç³»ç»Ÿå‘½ä»¤ä¹Ÿå¯ä»¥è°ƒç”¨ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># ç­‰åŒäº ls
$ npx ls
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼ŒBash å†…ç½®çš„å‘½ä»¤ä¸åœ¨$PATH é‡Œé¢ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ã€‚æ¯”å¦‚ï¼Œcd æ˜¯ Bash å‘½ä»¤ï¼Œå› æ­¤å°±ä¸èƒ½ç”¨ npx cdã€‚</p><h4 id="_4-2-é¿å…å…¨å±€å®‰è£…æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_4-2-é¿å…å…¨å±€å®‰è£…æ¨¡å—" aria-hidden="true">#</a> 4.2 é¿å…å…¨å±€å®‰è£…æ¨¡å—</h4><p>é™¤äº†è°ƒç”¨é¡¹ç›®å†…éƒ¨æ¨¡å—ï¼Œnpx è¿˜èƒ½é¿å…å…¨å±€å®‰è£…çš„æ¨¡å—ã€‚æ¯”å¦‚ï¼Œcreate-react-app è¿™ä¸ªæ¨¡å—æ˜¯å…¨å±€å®‰è£…ï¼Œnpx å¯ä»¥è¿è¡Œå®ƒï¼Œè€Œä¸”ä¸è¿›è¡Œå…¨å±€å®‰è£…ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npx create-react-app my-react-app
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç è¿è¡Œæ—¶ï¼Œnpx å°† create-react-app ä¸‹è½½åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œä½¿ç”¨ä»¥åå†åˆ é™¤ã€‚æ‰€ä»¥ï¼Œä»¥åå†æ¬¡æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œä¼šé‡æ–°ä¸‹è½½ create-react-appã€‚</p><p>æ³¨æ„ï¼Œåªè¦ npx åé¢çš„æ¨¡å—æ— æ³•åœ¨æœ¬åœ°å‘ç°ï¼Œå°±ä¼šä¸‹è½½åŒåæ¨¡å—ã€‚æ¯”å¦‚ï¼Œæœ¬åœ°æ²¡æœ‰å®‰è£… http-server æ¨¡å—ï¼Œä¸‹é¢çš„å‘½ä»¤ä¼šè‡ªåŠ¨ä¸‹è½½è¯¥æ¨¡å—ï¼Œåœ¨å½“å‰ç›®å½•å¯åŠ¨ä¸€ä¸ª Web æœåŠ¡ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npx http-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_4-3-no-install-å‚æ•°å’Œ-ignore-existing-å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_4-3-no-install-å‚æ•°å’Œ-ignore-existing-å‚æ•°" aria-hidden="true">#</a> 4.3 --no-install å‚æ•°å’Œ --ignore-existing å‚æ•°</h4><p>å¦‚æœæƒ³è®© npx å¼ºåˆ¶ä½¿ç”¨æœ¬åœ°æ¨¡å—ï¼Œä¸ä¸‹è½½è¿œç¨‹æ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨--no-install å‚æ•°ã€‚å¦‚æœæœ¬åœ°ä¸å­˜åœ¨è¯¥æ¨¡å—ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npx --no-install http-serve
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åè¿‡æ¥ï¼Œå¦‚æœå¿½ç•¥æœ¬åœ°çš„åŒåæ¨¡å—ï¼Œå¼ºåˆ¶å®‰è£…ä½¿ç”¨è¿œç¨‹æ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨--ignore-existing å‚æ•°ã€‚æ¯”å¦‚ï¼Œæœ¬åœ°å·²ç»å®‰è£…äº† http-serverï¼Œä½†è¿˜æ˜¯æƒ³ä½¿ç”¨è¿œç¨‹æ¨¡å—ï¼Œå°±ç”¨è¿™ä¸ªå‚æ•°ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npx --ignore-existing http-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h1 id="ä¸‰ã€æ¨¡å—-åŒ…-ä¸-commonjs" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€æ¨¡å—-åŒ…-ä¸-commonjs" aria-hidden="true">#</a> ä¸‰ã€æ¨¡å—/åŒ… ä¸ CommonJS</h1><h3 id="_1ã€æ¨¡å—-åŒ…åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#_1ã€æ¨¡å—-åŒ…åˆ†ç±»" aria-hidden="true">#</a> 1ã€æ¨¡å—/åŒ…åˆ†ç±»</h3><p>Node.js æœ‰ä¸‰ç±»æ¨¡å—ï¼Œå³å†…ç½®çš„æ¨¡å—ã€ç¬¬ä¸‰æ–¹çš„æ¨¡å—ã€è‡ªå®šä¹‰çš„æ¨¡å—ã€‚</p><h4 id="_1-1-å†…ç½®çš„æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_1-1-å†…ç½®çš„æ¨¡å—" aria-hidden="true">#</a> 1.1 å†…ç½®çš„æ¨¡å—</h4><p>Node.js å†…ç½®æ¨¡å—åˆå«æ ¸å¿ƒæ¨¡å—ï¼ŒNode.js å®‰è£…å®Œæˆå¯ç›´æ¥ä½¿ç”¨ã€‚å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> extname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span><span class="token string">&#39;index.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>extname<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-ç¬¬ä¸‰æ–¹çš„-node-js-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_1-2-ç¬¬ä¸‰æ–¹çš„-node-js-æ¨¡å—" aria-hidden="true">#</a> 1.2 ç¬¬ä¸‰æ–¹çš„ Node.js æ¨¡å—</h4><p>ç¬¬ä¸‰æ–¹çš„ Node.js æ¨¡å—æŒ‡çš„æ˜¯ä¸ºäº†å®ç°æŸäº›åŠŸèƒ½ï¼Œå‘å¸ƒçš„ <a href="http://npmjs.org" target="_blank" rel="noopener noreferrer">npmjs.org<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ä¸Šçš„æ¨¡å—ï¼ŒæŒ‰ç…§ä¸€å®šçš„å¼€æºåè®®ä¾›ç¤¾ç¾¤ä½¿ç”¨ã€‚å¦‚ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm install chalk
const chalk = require(&#39;chalk&#39;)
console.log(chalk.blue(&#39;Hello world!&#39;))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-è‡ªå®šä¹‰çš„-node-js-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_1-3-è‡ªå®šä¹‰çš„-node-js-æ¨¡å—" aria-hidden="true">#</a> 1.3 è‡ªå®šä¹‰çš„ Node.js æ¨¡å—</h4><p>è‡ªå®šä¹‰çš„ Node.js æ¨¡å—ï¼Œä¹Ÿå«æ–‡ä»¶æ¨¡å—ï¼Œæ˜¯æˆ‘ä»¬è‡ªå·±å†™çš„ä¾›è‡ªå·±ä½¿ç”¨çš„æ¨¡å—ã€‚åŒæ—¶ï¼Œè¿™ç±»æ¨¡å—å‘å¸ƒåˆ° <a href="http://npmjs.org" target="_blank" rel="noopener noreferrer">npmjs.org<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ä¸Šå°±æˆäº†å¼€æºçš„ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚</p><p>è‡ªå®šä¹‰æ¨¡å—æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½ï¼Œéœ€è¦å®Œæ•´çš„è·¯å¾„åˆ†æã€æ–‡ä»¶å®šä½ã€ç¼–è¯‘æ‰§è¡Œè¿‡ç¨‹ã€é€Ÿåº¦ç›¸æ¯”æ ¸å¿ƒæ¨¡å—ç¨å¾®æ…¢ä¸€äº›ï¼Œä½†æ˜¯ç”¨çš„éå¸¸å¤šã€‚</p><h5 id="_1-3-1-æ¨¡å—å®šä¹‰ã€æ¥å£æš´éœ²å’Œå¼•ç”¨æ¥å£" tabindex="-1"><a class="header-anchor" href="#_1-3-1-æ¨¡å—å®šä¹‰ã€æ¥å£æš´éœ²å’Œå¼•ç”¨æ¥å£" aria-hidden="true">#</a> 1.3.1 æ¨¡å—å®šä¹‰ã€æ¥å£æš´éœ²å’Œå¼•ç”¨æ¥å£</h5><p>æˆ‘ä»¬å¯ä»¥æŠŠå…¬å…±çš„åŠŸèƒ½ æŠ½ç¦»æˆä¸ºä¸€ä¸ªå•ç‹¬çš„ js æ–‡ä»¶ ä½œä¸ºä¸€ä¸ªæ¨¡å—ï¼Œé»˜è®¤æƒ…å†µä¸‹é¢è¿™ä¸ªæ¨¡å—é‡Œé¢çš„æ–¹æ³•æˆ–è€…å±æ€§ï¼Œå¤–é¢æ˜¯æ²¡æ³•è®¿é—®çš„ã€‚å¦‚æœè¦è®©å¤–éƒ¨å¯ä»¥è®¿é—®æ¨¡å—é‡Œé¢çš„æ–¹æ³•æˆ–è€…å±æ€§ï¼Œå°±å¿…é¡»åœ¨æ¨¡å—é‡Œé¢é€šè¿‡ exports æˆ–è€… module.exports æš´éœ²å±æ€§æˆ–è€…æ–¹æ³•ã€‚</p><p>m1.jsï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&#39;gp19&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;module 1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ¥å£æš´éœ²æ–¹æ³•ä¸€ï¼š</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">say</span><span class="token operator">:</span> sayName<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// æ¥å£æš´éœ²æ–¹æ³•äºŒï¼š</span>
exports<span class="token punctuation">.</span>say <span class="token operator">=</span> sayName<span class="token punctuation">;</span>

<span class="token comment">// é”™è¯¯ï¼</span>
exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">say</span><span class="token operator">:</span> sayName<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>main.jsï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> m1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./m1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m1<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="å››ã€å¸¸ç”¨å†…ç½®æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#å››ã€å¸¸ç”¨å†…ç½®æ¨¡å—" aria-hidden="true">#</a> å››ã€å¸¸ç”¨å†…ç½®æ¨¡å—</h1><p>è¿™é‡Œä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„å†…ç½®æ¨¡å—ï¼šurl, querystring, http, events, fs, stream, readline, crypto, zlib</p><h3 id="_1ã€url" tabindex="-1"><a class="header-anchor" href="#_1ã€url" aria-hidden="true">#</a> 1ã€url</h3><h4 id="_1-1-parse" tabindex="-1"><a class="header-anchor" href="#_1-1-parse" aria-hidden="true">#</a> 1.1 parse</h4><p>url.parse(urlString[, parseQueryString[, slashesDenoteHost]])</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> urlString <span class="token operator">=</span> <span class="token string">&#39;https://www.baidu.com:443/ad/index.html?id=8&amp;name=mouse#tag=110&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> parsedStr <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>urlString<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>parsedStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-format" tabindex="-1"><a class="header-anchor" href="#_1-2-format" aria-hidden="true">#</a> 1.2 format</h4><p>url.format(urlObject)</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> urlObject <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">protocol</span><span class="token operator">:</span> <span class="token string">&#39;https:&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">slashes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token literal-property property">auth</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
	<span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&#39;www.baidu.com:443&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">&#39;443&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">&#39;www.baidu.com&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">hash</span><span class="token operator">:</span> <span class="token string">&#39;#tag=110&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">search</span><span class="token operator">:</span> <span class="token string">&#39;?id=8&amp;name=mouse&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;8&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;mouse&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">&#39;/ad/index.html&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/ad/index.html?id=8&amp;name=mouse&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">href</span><span class="token operator">:</span> <span class="token string">&#39;https://www.baidu.com:443/ad/index.html?id=8&amp;name=mouse#tag=110&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> parsedObj <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>urlObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>parsedObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-resolve" tabindex="-1"><a class="header-anchor" href="#_1-3-resolve" aria-hidden="true">#</a> 1.3 resolve</h4><p>url.resolve(from, to)</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;/one/two/three&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;four&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;http://example.com/&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/one&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;http://example.com/one&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/two&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> <span class="token string">&#39;,&#39;</span> <span class="token operator">+</span> b <span class="token operator">+</span> <span class="token string">&#39;,&#39;</span> <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€querystring" tabindex="-1"><a class="header-anchor" href="#_2ã€querystring" aria-hidden="true">#</a> 2ã€querystring</h3><h4 id="_2-1-parse" tabindex="-1"><a class="header-anchor" href="#_2-1-parse" aria-hidden="true">#</a> 2.1 parse</h4><p>querystring.parse(str[, sep[, eq[, options]]])</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> querystring <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;querystring&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> qs <span class="token operator">=</span> <span class="token string">&#39;x=3&amp;y=4&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> parsed <span class="token operator">=</span> querystring<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>qs<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>parsed<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-stringify" tabindex="-1"><a class="header-anchor" href="#_2-2-stringify" aria-hidden="true">#</a> 2.2 stringify</h4><p>querystring.stringify(obj[, sep[, eq[, options]]])</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> querystring <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;querystring&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> qo <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
	<span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> parsed <span class="token operator">=</span> querystring<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>qo<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>parsed<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-escape-unescape" tabindex="-1"><a class="header-anchor" href="#_2-3-escape-unescape" aria-hidden="true">#</a> 2.3 escape/unescape</h4><p>querystring.escape(str)</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> querystring <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;querystring&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&#39;id=3&amp;city=åŒ—äº¬&amp;url=https://www.baidu.com&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> escaped <span class="token operator">=</span> querystring<span class="token punctuation">.</span><span class="token function">escape</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>escaped<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>querystring.unescape(str)</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> querystring <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;querystring&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&#39;id%3D3%26city%3D%E5%8C%97%E4%BA%AC%26url%3Dhttps%3A%2F%2Fwww.baidu.com&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> unescaped <span class="token operator">=</span> querystring<span class="token punctuation">.</span><span class="token function">unescape</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>unescaped<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3ã€http-https" tabindex="-1"><a class="header-anchor" href="#_3ã€http-https" aria-hidden="true">#</a> 3ã€http/https</h3><h4 id="_3-1-get" tabindex="-1"><a class="header-anchor" href="#_3-1-get" aria-hidden="true">#</a> 3.1 get</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> https <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;https&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 1ã€æ¥å£ 2ã€è·¨åŸŸ</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> url <span class="token operator">=</span> request<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>

	response<span class="token punctuation">.</span><span class="token function">writeHeader</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token string-property property">&#39;content-type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json;charset=utf-8&#39;</span><span class="token punctuation">,</span>
		<span class="token string-property property">&#39;Access-Control-Allow-Origin&#39;</span><span class="token operator">:</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	https<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://m.lagou.com/listmore.json</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			data <span class="token operator">+=</span> chunk<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>
				<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
					<span class="token literal-property property">ret</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
					data<span class="token punctuation">,</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;localhost:8080&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-post-æœåŠ¡å™¨æäº¤-æ”»å‡»" tabindex="-1"><a class="header-anchor" href="#_3-2-post-æœåŠ¡å™¨æäº¤-æ”»å‡»" aria-hidden="true">#</a> 3.2 postï¼šæœåŠ¡å™¨æäº¤ï¼ˆæ”»å‡»ï¼‰</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> https <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;https&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> querystring <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;querystring&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> postData <span class="token operator">=</span> querystring<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">province</span><span class="token operator">:</span> <span class="token string">&#39;ä¸Šæµ·&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">&#39;ä¸Šæµ·&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">district</span><span class="token operator">:</span> <span class="token string">&#39;å®å±±åŒº&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">&#39;åŒæµæ”¯è·¯199å·æ™ºæ…§ä¸ƒç«‹æ–¹3å·æ¥¼2-4å±‚&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">latitude</span><span class="token operator">:</span> <span class="token number">43.0</span><span class="token punctuation">,</span>
	<span class="token literal-property property">longitude</span><span class="token operator">:</span> <span class="token number">160.0</span><span class="token punctuation">,</span>
	<span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;æ±‚è´­ä¸€æ¡å°é±¼&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">contact</span><span class="token operator">:</span> <span class="token string">&#39;13666666&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;sell&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">1571217561</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">protocol</span><span class="token operator">:</span> <span class="token string">&#39;https:&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">&#39;ik9hkddr.qcloud.la&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">443</span><span class="token punctuation">,</span>
	<span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/index.php/trade/add_item&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/x-www-form-urlencoded&#39;</span><span class="token punctuation">,</span>
		<span class="token string-property property">&#39;Content-Length&#39;</span><span class="token operator">:</span> Buffer<span class="token punctuation">.</span><span class="token function">byteLength</span><span class="token punctuation">(</span>postData<span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> data<span class="token punctuation">;</span>

	<span class="token keyword">let</span> req <span class="token operator">=</span> https<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>data <span class="token operator">+=</span> chunk<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	req<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>postData<span class="token punctuation">)</span><span class="token punctuation">;</span>
	req<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// setInterval(() =&gt; {</span>
<span class="token comment">//   doPost()</span>
<span class="token comment">// }, 1000)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-è·¨åŸŸ-jsonp" tabindex="-1"><a class="header-anchor" href="#_3-3-è·¨åŸŸ-jsonp" aria-hidden="true">#</a> 3.3 è·¨åŸŸï¼šjsonp</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> urlObj <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">switch</span> <span class="token punctuation">(</span>urlObj<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token string">&#39;/api/user&#39;</span><span class="token operator">:</span>
			res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>urlObj<span class="token punctuation">.</span>query<span class="token punctuation">.</span>cb<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">({&quot;name&quot;: &quot;gp145&quot;})</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">default</span><span class="token operator">:</span>
			res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&#39;404.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;localhost:8080&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-4-è·¨åŸŸ-cors" tabindex="-1"><a class="header-anchor" href="#_3-4-è·¨åŸŸ-cors" aria-hidden="true">#</a> 3.4 è·¨åŸŸï¼šCORS</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> querystring <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;querystring&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">let</span> urlObj <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token string-property property">&#39;content-type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json;charset=utf-8&#39;</span><span class="token punctuation">,</span>
		<span class="token string-property property">&#39;Access-Control-Allow-Origin&#39;</span><span class="token operator">:</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		data <span class="token operator">+=</span> chunk<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">responseResult</span><span class="token punctuation">(</span>querystring<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">function</span> <span class="token function">responseResult</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">switch</span> <span class="token punctuation">(</span>urlObj<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">case</span> <span class="token string">&#39;/api/login&#39;</span><span class="token operator">:</span>
				res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>
					<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
						<span class="token literal-property property">message</span><span class="token operator">:</span> data<span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span>
				<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">default</span><span class="token operator">:</span>
				res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&#39;404.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;localhost:8080&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-5-è·¨åŸŸ-middleware-http-proxy-middware" tabindex="-1"><a class="header-anchor" href="#_3-5-è·¨åŸŸ-middleware-http-proxy-middware" aria-hidden="true">#</a> 3.5 è·¨åŸŸï¼šmiddlewareï¼ˆhttp-proxy-middwareï¼‰</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http-proxy-middleware&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> url <span class="token operator">=</span> req<span class="token punctuation">.</span>url<span class="token punctuation">;</span>

	res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token string-property property">&#39;Access-Control-Allow-Origin&#39;</span><span class="token operator">:</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/api</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> apiProxy <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token string">&#39;/api&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;https://m.lagou.com&#39;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
			<span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token string-property property">&#39;^/api&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// http-proy-middleware åœ¨Node.jsä¸­ä½¿ç”¨çš„æ–¹æ³•</span>
		<span class="token function">apiProxy</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token keyword">switch</span> <span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">case</span> <span class="token string">&#39;/index.html&#39;</span><span class="token operator">:</span>
				res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&#39;index.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token string">&#39;/search.html&#39;</span><span class="token operator">:</span>
				res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&#39;search.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">default</span><span class="token operator">:</span>
				res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&#39;[404]page not found.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-6-çˆ¬è™«" tabindex="-1"><a class="header-anchor" href="#_3-6-çˆ¬è™«" aria-hidden="true">#</a> 3.6 çˆ¬è™«</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> https <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;https&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> cheerio <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;cheerio&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	response<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token string-property property">&#39;content-type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json;charset=utf-8&#39;</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">protocol</span><span class="token operator">:</span> <span class="token string">&#39;https:&#39;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">&#39;maoyan.com&#39;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">443</span><span class="token punctuation">,</span>
		<span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> req <span class="token operator">=</span> https<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
		res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			data <span class="token operator">+=</span> chunk<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token function">filterData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">function</span> <span class="token function">filterData</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> $ <span class="token operator">=</span> cheerio<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">let</span> $movieList <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;.movie-item&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">let</span> movies <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		$movieList<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			movies<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&#39;.movie-title&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&#39;title&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&#39;.movie-score i&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>movies<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	req<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">9000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€file-system" tabindex="-1"><a class="header-anchor" href="#_4ã€file-system" aria-hidden="true">#</a> 4ã€File System</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fsP <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>promises<span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»ºæ–‡ä»¶å¤¹</span>
fs<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token string">&#39;./logs&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;done.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ–‡ä»¶å¤¹æ”¹å</span>
fs<span class="token punctuation">.</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">&#39;./logs&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;./log&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;done&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ é™¤æ–‡ä»¶å¤¹</span>
fs<span class="token punctuation">.</span><span class="token function">rmdir</span><span class="token punctuation">(</span><span class="token string">&#39;./log&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;done.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å†™å†…å®¹åˆ°æ–‡ä»¶é‡Œ</span>
fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>
	<span class="token string">&#39;./logs/log1.txt&#39;</span><span class="token punctuation">,</span>
	<span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span>
	<span class="token comment">// é”™è¯¯ä¼˜å…ˆçš„å›è°ƒå‡½æ•°</span>
	<span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;æ–‡ä»¶åˆ›å»ºæˆåŠŸ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ç»™æ–‡ä»¶è¿½åŠ å†…å®¹</span>
fs<span class="token punctuation">.</span><span class="token function">appendFile</span><span class="token punctuation">(</span><span class="token string">&#39;./logs/log1.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\nworld&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;done.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è¯»å–æ–‡ä»¶å†…å®¹</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./logs/log1.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ é™¤æ–‡ä»¶</span>
fs<span class="token punctuation">.</span><span class="token function">unlink</span><span class="token punctuation">(</span><span class="token string">&#39;./logs/log1.txt&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;done.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ‰¹é‡å†™æ–‡ä»¶</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./logs/log-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.txt</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">log-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;done.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// è¯»å–æ–‡ä»¶/ç›®å½•ä¿¡æ¯</span>
fs<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span><span class="token string">&#39;./&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		fs<span class="token punctuation">.</span><span class="token function">stat</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token comment">// console.log(value + &#39;:&#39; + stats.size)</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value <span class="token operator">+</span> <span class="token string">&#39; is &#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>stats<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&#39;directory&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;file&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åŒæ­¥è¯»å–æ–‡ä»¶</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">&#39;./logs/log-1.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¼‚æ­¥è¯»å–æ–‡ä»¶ï¼šæ–¹æ³•ä¸€</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./logs/log-0.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¼‚æ­¥è¯»å–æ–‡ä»¶ï¼šæ–¹æ³•äºŒ</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./logs/log-0.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¼‚æ­¥è¯»å–æ–‡ä»¶ï¼šæ–¹æ³•ä¸‰</span>
<span class="token keyword">function</span> <span class="token function">getFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./logs/log-0.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">getFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¼‚æ­¥è¯»å–æ–‡ä»¶ï¼šæ–¹æ³•å››</span>
<span class="token keyword">const</span> fsp <span class="token operator">=</span> fsP<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./logs/log-1.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fsP<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// watch ç›‘æµ‹æ–‡ä»¶å˜åŒ–</span>
fs<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">&#39;./logs/log-0.txt&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5ã€crypto" tabindex="-1"><a class="header-anchor" href="#_5ã€crypto" aria-hidden="true">#</a> 5ã€Crypto</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> crypto <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;crypto&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> secret <span class="token operator">=</span> <span class="token string">&#39;abcdefg&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> hash <span class="token operator">=</span> crypto<span class="token punctuation">.</span><span class="token function">createHmac</span><span class="token punctuation">(</span><span class="token string">&#39;sha256&#39;</span><span class="token punctuation">,</span> secret<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token string">&#39;I love you&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">digest</span><span class="token punctuation">(</span><span class="token string">&#39;hex&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="å››ã€è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#å››ã€è·¯ç”±" aria-hidden="true">#</a> å››ã€è·¯ç”±</h1><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">switch</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token string">&#39;/home&#39;</span><span class="token operator">:</span>
			res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&#39;home&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token string">&#39;/mine&#39;</span><span class="token operator">:</span>
			res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&#39;mine&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token string">&#39;/login&#39;</span><span class="token operator">:</span>
			fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./static/login.html&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
				res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
				res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token string">&#39;/fulian.jpg&#39;</span><span class="token operator">:</span>
			fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./static/fulian.jpg&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;binary&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
				res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&#39;binary&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">default</span><span class="token operator">:</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8000</span><span class="token punctuation">,</span> <span class="token string">&#39;localhost&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;æœåŠ¡å™¨è¿è¡Œåœ¨ï¼š http://localhost:8000&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="äº”ã€é™æ€èµ„æºæœåŠ¡" tabindex="-1"><a class="header-anchor" href="#äº”ã€é™æ€èµ„æºæœåŠ¡" aria-hidden="true">#</a> äº”ã€é™æ€èµ„æºæœåŠ¡</h1><h3 id="_5-1-readstaticfile" tabindex="-1"><a class="header-anchor" href="#_5-1-readstaticfile" aria-hidden="true">#</a> 5.1 readStaticFile</h3><p>/modules/readStaticFile.js</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// å¼•å…¥ä¾èµ–çš„æ¨¡å—</span>
<span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> mime <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mime&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">readStaticFile</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> filePathname</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> ext <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>filePathname<span class="token punctuation">)</span><span class="token punctuation">.</span>ext<span class="token punctuation">;</span>
	<span class="token keyword">var</span> mimeType <span class="token operator">=</span> mime<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span>ext<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// åˆ¤æ–­è·¯å¾„æ˜¯å¦æœ‰åç¼€, æœ‰çš„è¯åˆ™è¯´æ˜å®¢æˆ·ç«¯è¦è¯·æ±‚çš„æ˜¯ä¸€ä¸ªæ–‡ä»¶</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// æ ¹æ®ä¼ å…¥çš„ç›®æ ‡æ–‡ä»¶è·¯å¾„æ¥è¯»å–å¯¹åº”æ–‡ä»¶</span>
		fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>filePathname<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token comment">// é”™è¯¯å¤„ç†</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;text/plain&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&#39;404 - NOT FOUND&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> mimeType <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
				res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// è¿”å› true è¡¨ç¤º, å®¢æˆ·ç«¯æƒ³è¦çš„ æ˜¯ é™æ€æ–‡ä»¶</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token comment">// è¿”å› false è¡¨ç¤º, å®¢æˆ·ç«¯æƒ³è¦çš„ ä¸æ˜¯ é™æ€æ–‡ä»¶</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// å¯¼å‡ºå‡½æ•°</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> readStaticFile<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-2-server" tabindex="-1"><a class="header-anchor" href="#_5-2-server" aria-hidden="true">#</a> 5.2 server</h3><p>/server.js</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// å¼•å…¥ç›¸å…³æ¨¡å—</span>
<span class="token keyword">var</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> readStaticFile <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./modules/readStaticFile&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ­å»º HTTP æœåŠ¡å™¨</span>
<span class="token keyword">var</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> urlObj <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> urlPathname <span class="token operator">=</span> urlObj<span class="token punctuation">.</span>pathname<span class="token punctuation">;</span>
	<span class="token keyword">var</span> filePathname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;/public&#39;</span><span class="token punctuation">,</span> urlPathname<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// è¯»å–é™æ€æ–‡ä»¶</span>
	<span class="token function">readStaticFile</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> filePathname<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åœ¨ 3000 ç«¯å£ç›‘å¬è¯·æ±‚</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;æœåŠ¡å™¨è¿è¡Œä¸­.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;æ­£åœ¨ç›‘å¬ 3000 ç«¯å£:&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-3-æœ€ç»ˆç›®å½•ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_5-3-æœ€ç»ˆç›®å½•ç»“æ„" aria-hidden="true">#</a> 5.3 æœ€ç»ˆç›®å½•ç»“æ„</h3><figure><img src="https://lurongtao.gitee.io/felixbooks-gp19-node.js/images/dir.jpg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h1 id="å…­ã€express" tabindex="-1"><a class="header-anchor" href="#å…­ã€express" aria-hidden="true">#</a> å…­ã€Express</h1><p>åŸºäº Node.js å¹³å°ï¼Œå¿«é€Ÿã€å¼€æ”¾ã€æç®€çš„ web å¼€å‘æ¡†æ¶ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npm install express --save
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ä¸€ã€ç‰¹è‰²" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€ç‰¹è‰²" aria-hidden="true">#</a> ä¸€ã€ç‰¹è‰²</h3><h4 id="_1ã€web-åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#_1ã€web-åº”ç”¨" aria-hidden="true">#</a> 1ã€Web åº”ç”¨</h4><p>Express æ˜¯ä¸€ä¸ªåŸºäº Node.js å¹³å°çš„æç®€ã€çµæ´»çš„ web åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œå®ƒæä¾›ä¸€ç³»åˆ—å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¸®åŠ©ä½ åˆ›å»ºå„ç§ Web å’Œç§»åŠ¨è®¾å¤‡åº”ç”¨ã€‚</p><h4 id="_2ã€api" tabindex="-1"><a class="header-anchor" href="#_2ã€api" aria-hidden="true">#</a> 2ã€API</h4><p>ä¸°å¯Œçš„ HTTP å¿«æ·æ–¹æ³•å’Œä»»æ„æ’åˆ—ç»„åˆçš„ Connect ä¸­é—´ä»¶ï¼Œè®©ä½ åˆ›å»ºå¥å£®ã€å‹å¥½çš„ API å˜å¾—æ—¢å¿«é€Ÿåˆç®€å•ã€‚</p><h4 id="_3ã€æ€§èƒ½" tabindex="-1"><a class="header-anchor" href="#_3ã€æ€§èƒ½" aria-hidden="true">#</a> 3ã€æ€§èƒ½</h4><p>Express ä¸å¯¹ Node.js å·²æœ‰çš„ç‰¹æ€§è¿›è¡ŒäºŒæ¬¡æŠ½è±¡ï¼Œæˆ‘ä»¬åªæ˜¯åœ¨å®ƒä¹‹ä¸Šæ‰©å±•äº† Web åº”ç”¨æ‰€éœ€çš„åŸºæœ¬åŠŸèƒ½ã€‚</p><h3 id="äºŒã€å®‰è£…" tabindex="-1"><a class="header-anchor" href="#äºŒã€å®‰è£…" aria-hidden="true">#</a> äºŒã€å®‰è£…</h3><p>é¦–å…ˆå‡å®šä½ å·²ç»å®‰è£…äº† Node.jsï¼Œæ¥ä¸‹æ¥ä¸ºä½ çš„åº”ç”¨åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œç„¶åè¿›å…¥æ­¤ç›®å½•å¹¶å°†å…¶ä½œä¸ºå½“å‰å·¥ä½œç›®å½•ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ mkdir myapp
$ cd myapp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ npm init å‘½ä»¤ä¸ºä½ çš„åº”ç”¨åˆ›å»ºä¸€ä¸ª package.json æ–‡ä»¶ã€‚ æ¬²äº†è§£ package.json æ˜¯å¦‚ä½•èµ·ä½œç”¨çš„ï¼Œè¯·å‚è€ƒ Specifics of npmâ€™s package.json handlingã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npm init
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ­¤å‘½ä»¤å°†è¦æ±‚ä½ è¾“å…¥å‡ ä¸ªå‚æ•°ï¼Œä¾‹å¦‚æ­¤åº”ç”¨çš„åç§°å’Œç‰ˆæœ¬ã€‚ ä½ å¯ä»¥ç›´æ¥æŒ‰â€œå›è½¦â€é”®æ¥å—é»˜è®¤è®¾ç½®å³å¯ï¼Œä¸‹é¢è¿™ä¸ªé™¤å¤–ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>entry point: (index.js)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é”®å…¥ app.js æˆ–è€…ä½ æ‰€å¸Œæœ›çš„åç§°ï¼Œè¿™æ˜¯å½“å‰åº”ç”¨çš„å…¥å£æ–‡ä»¶ã€‚å¦‚æœä½ å¸Œæœ›é‡‡ç”¨é»˜è®¤çš„ index.js æ–‡ä»¶åï¼Œåªéœ€æŒ‰â€œå›è½¦â€é”®å³å¯ã€‚</p><p>æ¥ä¸‹æ¥å®‰è£… Express å¹¶å°†å…¶ä¿å­˜åˆ°ä¾èµ–åˆ—è¡¨ä¸­ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npm install express --save
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœåªæ˜¯ä¸´æ—¶å®‰è£… Expressï¼Œä¸æƒ³å°†å®ƒæ·»åŠ åˆ°ä¾èµ–åˆ—è¡¨ä¸­ï¼Œåªéœ€ç•¥å» --save å‚æ•°å³å¯ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npm install express
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>å®‰è£… Node æ¨¡å—æ—¶ï¼Œå¦‚æœæŒ‡å®šäº† --save å‚æ•°ï¼Œé‚£ä¹ˆæ­¤æ¨¡å—å°†è¢«æ·»åŠ åˆ° package.json æ–‡ä»¶ä¸­ dependencies ä¾èµ–åˆ—è¡¨ä¸­ã€‚ ç„¶åé€šè¿‡ npm install å‘½ä»¤å³å¯è‡ªåŠ¨å®‰è£…ä¾èµ–åˆ—è¡¨ä¸­æ‰€åˆ—å‡ºçš„æ‰€æœ‰æ¨¡å—ã€‚</p></blockquote><h3 id="ä¸‰ã€hello-world-å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€hello-world-å®ä¾‹" aria-hidden="true">#</a> ä¸‰ã€Hello world å®ä¾‹</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ Express åº”ç”¨ã€‚</p><p>æ³¨æ„ï¼šè¿™é‡Œæ‰€åˆ›å»ºæ˜¯ä¸€ä¸ªæœ€æœ€ç®€å•çš„ Express åº”ç”¨ï¼Œå¹¶ä¸”ä»…ä»…åªæœ‰ä¸€ä¸ªæ–‡ä»¶ â€” å’Œé€šè¿‡ Express åº”ç”¨ç”Ÿæˆå™¨ æ‰€åˆ›å»ºçš„åº”ç”¨<em>å®Œå…¨ä¸ä¸€æ ·</em>ï¼ŒExpress åº”ç”¨ç”Ÿæˆå™¨æ‰€åˆ›å»ºçš„åº”ç”¨æ¡†æ¶åŒ…å«å¤š JavaScript æ–‡ä»¶ã€Jade æ¨¡æ¿å’Œé’ˆå¯¹ä¸åŒç”¨é€”çš„å­ç›®å½•ã€‚</p><p>è¿›å…¥ myapp ç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º app.js çš„æ–‡ä»¶ï¼Œç„¶åå°†ä¸‹åˆ—ä»£ç å¤åˆ¶è¿›å»ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> server <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> host <span class="token operator">=</span> server<span class="token punctuation">.</span><span class="token function">address</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>address<span class="token punctuation">;</span>
	<span class="token keyword">var</span> port <span class="token operator">=</span> server<span class="token punctuation">.</span><span class="token function">address</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>port<span class="token punctuation">;</span>

	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Example app listening at http://%s:%s&#39;</span><span class="token punctuation">,</span> host<span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä»£ç å¯åŠ¨ä¸€ä¸ªæœåŠ¡å¹¶ç›‘å¬ä» 3000 ç«¯å£è¿›å…¥çš„æ‰€æœ‰è¿æ¥è¯·æ±‚ã€‚ä»–å°†å¯¹æ‰€æœ‰ (/) URL æˆ– è·¯ç”± è¿”å› â€œHello World!â€ å­—ç¬¦ä¸²ã€‚å¯¹äºå…¶ä»–æ‰€æœ‰è·¯å¾„å…¨éƒ¨è¿”å› 404 Not Foundã€‚</p><blockquote><p>req (è¯·æ±‚) å’Œ res (å“åº”) ä¸ Node æä¾›çš„å¯¹è±¡å®Œå…¨ä¸€è‡´ï¼Œå› æ­¤ï¼Œä½ å¯ä»¥è°ƒç”¨ req.pipe()ã€req.on(&#39;data&#39;, callback) ä»¥åŠä»»ä½• Node æä¾›çš„æ–¹æ³•ã€‚</p></blockquote><p>é€šè¿‡å¦‚ä¸‹å‘½ä»¤å¯åŠ¨æ­¤åº”ç”¨ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ node app.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <a href="http://localhost:3000/" target="_blank" rel="noopener noreferrer">http://localhost:3000/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å¹¶æŸ¥çœ‹è¾“å‡ºç»“æœã€‚</p><h3 id="å››ã€è·¯ç”±-1" tabindex="-1"><a class="header-anchor" href="#å››ã€è·¯ç”±-1" aria-hidden="true">#</a> å››ã€è·¯ç”±</h3><p>è·¯ç”±æ˜¯æŒ‡å¦‚ä½•å®šä¹‰åº”ç”¨çš„ç«¯ç‚¹ï¼ˆURIsï¼‰ä»¥åŠå¦‚ä½•å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</p><p>è·¯ç”±æ˜¯ç”±ä¸€ä¸ª URIã€HTTP è¯·æ±‚ï¼ˆGETã€POST ç­‰ï¼‰å’Œè‹¥å¹²ä¸ªå¥æŸ„ç»„æˆï¼Œå®ƒçš„ç»“æ„å¦‚ä¸‹ï¼š app.METHOD(path, [callback...], callback)ï¼Œ app æ˜¯ express å¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹ï¼Œ METHOD æ˜¯ä¸€ä¸ª HTTP è¯·æ±‚æ–¹æ³•ï¼Œ path æ˜¯æœåŠ¡å™¨ä¸Šçš„è·¯å¾„ï¼Œ callback æ˜¯å½“è·¯ç”±åŒ¹é…æ—¶è¦æ‰§è¡Œçš„å‡½æ•°ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªåŸºæœ¬çš„è·¯ç”±ç¤ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// respond with &quot;hello world&quot; when a GET request is made to the homepage</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;hello world&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1ã€è·¯ç”±æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_1ã€è·¯ç”±æ–¹æ³•" aria-hidden="true">#</a> 1ã€è·¯ç”±æ–¹æ³•</h4><p>è·¯ç”±æ–¹æ³•æºäº HTTP è¯·æ±‚æ–¹æ³•ï¼Œå’Œ express å®ä¾‹ç›¸å…³è”ã€‚</p><p>ä¸‹é¢è¿™ä¸ªä¾‹å­å±•ç¤ºäº†ä¸ºåº”ç”¨è·Ÿè·¯å¾„å®šä¹‰çš„ GET å’Œ POST è¯·æ±‚ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// GET method route</span>
<span class="token comment">// å¯¹ç½‘ç«™é¦–é¡µçš„è®¿é—®è¿”å› &quot;Hello World!&quot; å­—æ ·</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ç½‘ç«™é¦–é¡µæ¥å— POST è¯·æ±‚</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Got a POST request&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// /user èŠ‚ç‚¹æ¥å— PUT è¯·æ±‚</span>
app<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&#39;/user&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Got a PUT request at /user&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// /user èŠ‚ç‚¹æ¥å— DELETE è¯·æ±‚</span>
app<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&#39;/user&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Got a DELETE request at /user&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Express å®šä¹‰äº†å¦‚ä¸‹å’Œ HTTP è¯·æ±‚å¯¹åº”çš„è·¯ç”±æ–¹æ³•ï¼š get, post, put, head, delete, options, trace, copy, lock, mkcol, move, purge, propfind, proppatch, unlock, report, mkactivity, checkout, merge, m-search, notify, subscribe, unsubscribe, patch, search, å’Œ connectã€‚</p><blockquote><p>æœ‰äº›è·¯ç”±æ–¹æ³•åä¸æ˜¯åˆè§„çš„ JavaScript å˜é‡åï¼Œæ­¤æ—¶ä½¿ç”¨æ‹¬å·è®°æ³•ï¼Œæ¯”å¦‚ï¼š app[&#39;m-search&#39;](&#39;/&#39;, function ...</p></blockquote><p>app.all() æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è·¯ç”±æ–¹æ³•ï¼Œæ²¡æœ‰ä»»ä½• HTTP æ–¹æ³•ä¸å…¶å¯¹åº”ï¼Œå®ƒçš„ä½œç”¨æ˜¯å¯¹äºä¸€ä¸ªè·¯å¾„ä¸Šçš„æ‰€æœ‰è¯·æ±‚åŠ è½½ä¸­é—´ä»¶ã€‚</p><p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæ¥è‡ª â€œ/secretâ€ çš„è¯·æ±‚ï¼Œä¸ç®¡ä½¿ç”¨ GETã€POSTã€PUTã€DELETE æˆ–å…¶ä»–ä»»ä½• http æ¨¡å—æ”¯æŒçš„ HTTP è¯·æ±‚ï¼Œå¥æŸ„éƒ½ä¼šå¾—åˆ°æ‰§è¡Œã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">&#39;/secret&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Accessing the secret section ...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// pass control to the next handler</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2ã€è·¯ç”±è·¯å¾„" tabindex="-1"><a class="header-anchor" href="#_2ã€è·¯ç”±è·¯å¾„" aria-hidden="true">#</a> 2ã€è·¯ç”±è·¯å¾„</h4><p>è·¯ç”±è·¯å¾„å’Œè¯·æ±‚æ–¹æ³•ä¸€èµ·å®šä¹‰äº†è¯·æ±‚çš„ç«¯ç‚¹ï¼Œå®ƒå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å­—ç¬¦ä¸²æ¨¡å¼æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼ã€‚</p><p>Express ä½¿ç”¨ path-to-regexp åŒ¹é…è·¯ç”±è·¯å¾„ï¼Œè¯·å‚è€ƒæ–‡æ¡£æŸ¥é˜…æ‰€æœ‰å®šä¹‰è·¯ç”±è·¯å¾„çš„æ–¹æ³•ã€‚ Express Route Tester æ˜¯æµ‹è¯•åŸºæœ¬ Express è·¯å¾„çš„å¥½å·¥å…·ï¼Œä½†ä¸æ”¯æŒæ¨¡å¼åŒ¹é…ã€‚</p><blockquote><p>æŸ¥è¯¢å­—ç¬¦ä¸²ä¸æ˜¯è·¯ç”±è·¯å¾„çš„ä¸€éƒ¨åˆ†ã€‚</p></blockquote><p>ä½¿ç”¨å­—ç¬¦ä¸²çš„è·¯ç”±è·¯å¾„ç¤ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// åŒ¹é…æ ¹è·¯å¾„çš„è¯·æ±‚</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åŒ¹é… /about è·¯å¾„çš„è¯·æ±‚</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/about&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;about&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åŒ¹é… /random.text è·¯å¾„çš„è¯·æ±‚</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/random.text&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;random.text&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨å­—ç¬¦ä¸²æ¨¡å¼çš„è·¯ç”±è·¯å¾„ç¤ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// åŒ¹é… acd å’Œ abcd</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/ab?cd&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;ab?cd&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åŒ¹é… abcdã€abbcdã€abbbcdç­‰</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/ab+cd&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;ab+cd&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åŒ¹é… abcdã€abxcdã€abRABDOMcdã€ab123cdç­‰</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/ab*cd&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;ab*cd&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åŒ¹é… /abe å’Œ /abcde</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/ab(cd)?e&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;ab(cd)?e&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å­—ç¬¦ ?ã€+ã€* å’Œ () æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„å­é›†ï¼Œ- å’Œ . åœ¨åŸºäºå­—ç¬¦ä¸²çš„è·¯å¾„ä¸­æŒ‰ç…§å­—é¢å€¼è§£é‡Šã€‚</p></blockquote><p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„è·¯ç”±è·¯å¾„ç¤ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// åŒ¹é…ä»»ä½•è·¯å¾„ä¸­å«æœ‰ a çš„è·¯å¾„ï¼š</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;/a/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åŒ¹é… butterflyã€dragonflyï¼Œä¸åŒ¹é… butterflymanã€dragonfly manç­‰</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*fly$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;/.*fly$/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3ã€è·¯ç”±å¥æŸ„" tabindex="-1"><a class="header-anchor" href="#_3ã€è·¯ç”±å¥æŸ„" aria-hidden="true">#</a> 3ã€è·¯ç”±å¥æŸ„</h4><p>å¯ä»¥ä¸ºè¯·æ±‚å¤„ç†æä¾›å¤šä¸ªå›è°ƒå‡½æ•°ï¼Œå…¶è¡Œä¸ºç±»ä¼¼ ä¸­é—´ä»¶ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯è¿™äº›å›è°ƒå‡½æ•°æœ‰å¯èƒ½è°ƒç”¨ next(&#39;route&#39;) æ–¹æ³•è€Œç•¥è¿‡å…¶ä»–è·¯ç”±å›è°ƒå‡½æ•°ã€‚å¯ä»¥åˆ©ç”¨è¯¥æœºåˆ¶ä¸ºè·¯ç”±å®šä¹‰å‰ææ¡ä»¶ï¼Œå¦‚æœåœ¨ç°æœ‰è·¯å¾„ä¸Šç»§ç»­æ‰§è¡Œæ²¡æœ‰æ„ä¹‰ï¼Œåˆ™å¯å°†æ§åˆ¶æƒäº¤ç»™å‰©ä¸‹çš„è·¯å¾„ã€‚</p><p>è·¯ç”±å¥æŸ„æœ‰å¤šç§å½¢å¼ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ã€ä¸€ä¸ªå‡½æ•°æ•°ç»„ï¼Œæˆ–è€…æ˜¯ä¸¤è€…æ··åˆï¼Œå¦‚ä¸‹æ‰€ç¤º.</p><p>ä½¿ç”¨ä¸€ä¸ªå›è°ƒå‡½æ•°å¤„ç†è·¯ç”±ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/example/a&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Hello from A!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨å¤šä¸ªå›è°ƒå‡½æ•°å¤„ç†è·¯ç”±ï¼ˆè®°å¾—æŒ‡å®š next å¯¹è±¡ï¼‰ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>
	<span class="token string">&#39;/example/b&#39;</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;response will be sent by the next function ...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Hello from B!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨å›è°ƒå‡½æ•°æ•°ç»„å¤„ç†è·¯ç”±ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">cb0</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;CB0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">cb1</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;CB1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">cb2</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Hello from C!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/example/c&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>cb0<span class="token punctuation">,</span> cb1<span class="token punctuation">,</span> cb2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ··åˆä½¿ç”¨å‡½æ•°å’Œå‡½æ•°æ•°ç»„å¤„ç†è·¯ç”±ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">cb0</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;CB0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">cb1</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;CB1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>
	<span class="token string">&#39;/example/d&#39;</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span>cb0<span class="token punctuation">,</span> cb1<span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;response will be sent by the next function ...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Hello from D!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4ã€å“åº”æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_4ã€å“åº”æ–¹æ³•" aria-hidden="true">#</a> 4ã€å“åº”æ–¹æ³•</h4><p>ä¸‹è¡¨ä¸­å“åº”å¯¹è±¡ï¼ˆresï¼‰çš„æ–¹æ³•å‘å®¢æˆ·ç«¯è¿”å›å“åº”ï¼Œç»ˆç»“è¯·æ±‚å“åº”çš„å¾ªç¯ã€‚å¦‚æœåœ¨è·¯ç”±å¥æŸ„ä¸­ä¸€ä¸ªæ–¹æ³•ä¹Ÿä¸è°ƒç”¨ï¼Œæ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ä¼šä¸€ç›´æŒ‚èµ·ã€‚</p><table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>res.download()</td><td>æç¤ºä¸‹è½½æ–‡ä»¶ã€‚</td></tr><tr><td>res.end()</td><td>ç»ˆç»“å“åº”å¤„ç†æµç¨‹ã€‚</td></tr><tr><td>res.json()</td><td>å‘é€ä¸€ä¸ª JSON æ ¼å¼çš„å“åº”ã€‚</td></tr><tr><td>res.jsonp()</td><td>å‘é€ä¸€ä¸ªæ”¯æŒ JSONP çš„ JSON æ ¼å¼çš„å“åº”ã€‚</td></tr><tr><td>res.redirect()</td><td>é‡å®šå‘è¯·æ±‚ã€‚</td></tr><tr><td>res.render()</td><td>æ¸²æŸ“è§†å›¾æ¨¡æ¿ã€‚</td></tr><tr><td>res.send()</td><td>å‘é€å„ç§ç±»å‹çš„å“åº”ã€‚</td></tr><tr><td>res.sendFile</td><td>ä»¥å…«ä½å­—èŠ‚æµçš„å½¢å¼å‘é€æ–‡ä»¶ã€‚</td></tr><tr><td>res.sendStatus()</td><td>è®¾ç½®å“åº”çŠ¶æ€ä»£ç ï¼Œå¹¶å°†å…¶ä»¥å­—ç¬¦ä¸²å½¢å¼ä½œä¸ºå“åº”ä½“çš„ä¸€éƒ¨åˆ†å‘é€ã€‚</td></tr></tbody></table><h4 id="_5ã€app-route" tabindex="-1"><a class="header-anchor" href="#_5ã€app-route" aria-hidden="true">#</a> 5ã€app.route()</h4><p>å¯ä½¿ç”¨ app.route() åˆ›å»ºè·¯ç”±è·¯å¾„çš„é“¾å¼è·¯ç”±å¥æŸ„ã€‚ç”±äºè·¯å¾„åœ¨ä¸€ä¸ªåœ°æ–¹æŒ‡å®šï¼Œè¿™æ ·åšæœ‰åŠ©äºåˆ›å»ºæ¨¡å—åŒ–çš„è·¯ç”±ï¼Œè€Œä¸”å‡å°‘äº†ä»£ç å†—ä½™å’Œæ‹¼å†™é”™è¯¯ã€‚</p><p>ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ç¨‹åºä½¿ç”¨ app.route() å®šä¹‰äº†é“¾å¼è·¯ç”±å¥æŸ„ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">&#39;/book&#39;</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Get a random book&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Add a book&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Update the book&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6ã€express-router" tabindex="-1"><a class="header-anchor" href="#_6ã€express-router" aria-hidden="true">#</a> 6ã€express.Router</h4><p>å¯ä½¿ç”¨ express.Router ç±»åˆ›å»ºæ¨¡å—åŒ–ã€å¯æŒ‚è½½çš„è·¯ç”±å¥æŸ„ã€‚Router å®ä¾‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸­é—´ä»¶å’Œè·¯ç”±ç³»ç»Ÿï¼Œå› æ­¤å¸¸ç§°å…¶ä¸ºä¸€ä¸ª â€œmini-appâ€ã€‚</p><p>ä¸‹é¢çš„å®ä¾‹ç¨‹åºåˆ›å»ºäº†ä¸€ä¸ªè·¯ç”±æ¨¡å—ï¼Œå¹¶åŠ è½½äº†ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå®šä¹‰äº†ä¸€äº›è·¯ç”±ï¼Œå¹¶ä¸”å°†å®ƒä»¬æŒ‚è½½è‡³åº”ç”¨çš„è·¯å¾„ä¸Šã€‚</p><p>åœ¨ app ç›®å½•ä¸‹åˆ›å»ºåä¸º birds.js çš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è¯¥è·¯ç”±ä½¿ç”¨çš„ä¸­é—´ä»¶</span>
router<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timeLog</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Time: &#39;</span><span class="token punctuation">,</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å®šä¹‰ç½‘ç«™ä¸»é¡µçš„è·¯ç”±</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Birds home page&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å®šä¹‰ about é¡µé¢çš„è·¯ç”±</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/about&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;About birds&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶ååœ¨åº”ç”¨ä¸­åŠ è½½è·¯ç”±æ¨¡å—ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> birds <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./birds&#39;</span><span class="token punctuation">)</span>
<span class="token operator">...</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#39;/birds&#39;</span><span class="token punctuation">,</span> birds<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åº”ç”¨å³å¯å¤„ç†å‘è‡ª /birds å’Œ /birds/about çš„è¯·æ±‚ï¼Œå¹¶ä¸”è°ƒç”¨ä¸ºè¯¥è·¯ç”±æŒ‡å®šçš„ timeLog ä¸­é—´ä»¶ã€‚</p><h3 id="äº”ã€åˆ©ç”¨-express-æ‰˜ç®¡é™æ€æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#äº”ã€åˆ©ç”¨-express-æ‰˜ç®¡é™æ€æ–‡ä»¶" aria-hidden="true">#</a> äº”ã€åˆ©ç”¨ Express æ‰˜ç®¡é™æ€æ–‡ä»¶</h3><p>é€šè¿‡ Express å†…ç½®çš„ express.static å¯ä»¥æ–¹ä¾¿åœ°æ‰˜ç®¡é™æ€æ–‡ä»¶ï¼Œä¾‹å¦‚å›¾ç‰‡ã€CSSã€JavaScript æ–‡ä»¶ç­‰ã€‚</p><p>å°†é™æ€èµ„æºæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä½œä¸ºå‚æ•°ä¼ é€’ç»™ express.static ä¸­é—´ä»¶å°±å¯ä»¥æä¾›é™æ€èµ„æºæ–‡ä»¶çš„è®¿é—®äº†ã€‚ä¾‹å¦‚ï¼Œå‡è®¾åœ¨ public ç›®å½•æ”¾ç½®äº†å›¾ç‰‡ã€CSS å’Œ JavaScript æ–‡ä»¶ï¼Œä½ å°±å¯ä»¥ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">&#39;public&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œpublic ç›®å½•ä¸‹é¢çš„æ–‡ä»¶å°±å¯ä»¥è®¿é—®äº†ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">3000</span><span class="token operator">/</span>images<span class="token operator">/</span>kitten<span class="token punctuation">.</span>jpg
<span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">3000</span><span class="token operator">/</span>css<span class="token operator">/</span>style<span class="token punctuation">.</span>css
<span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">3000</span><span class="token operator">/</span>js<span class="token operator">/</span>app<span class="token punctuation">.</span>js
<span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">3000</span><span class="token operator">/</span>images<span class="token operator">/</span>bg<span class="token punctuation">.</span>png
<span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">3000</span><span class="token operator">/</span>hello<span class="token punctuation">.</span>html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ‰€æœ‰æ–‡ä»¶çš„è·¯å¾„éƒ½æ˜¯ç›¸å¯¹äºå­˜æ”¾ç›®å½•çš„ï¼Œå› æ­¤ï¼Œå­˜æ”¾é™æ€æ–‡ä»¶çš„ç›®å½•åä¸ä¼šå‡ºç°åœ¨ URL ä¸­ã€‚</p></blockquote><p>å¦‚æœä½ çš„é™æ€èµ„æºå­˜æ”¾åœ¨å¤šä¸ªç›®å½•ä¸‹é¢ï¼Œä½ å¯ä»¥å¤šæ¬¡è°ƒç”¨ express.static ä¸­é—´ä»¶ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">&#39;public&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">&#39;files&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è®¿é—®é™æ€èµ„æºæ–‡ä»¶æ—¶ï¼Œexpress.static ä¸­é—´ä»¶ä¼šæ ¹æ®ç›®å½•æ·»åŠ çš„é¡ºåºæŸ¥æ‰¾æ‰€éœ€çš„æ–‡ä»¶ã€‚</p><p>å¦‚æœä½ å¸Œæœ›æ‰€æœ‰é€šè¿‡ express.static è®¿é—®çš„æ–‡ä»¶éƒ½å­˜æ”¾åœ¨ä¸€ä¸ªâ€œè™šæ‹Ÿï¼ˆvirtualï¼‰â€ç›®å½•ï¼ˆå³ç›®å½•æ ¹æœ¬ä¸å­˜åœ¨ï¼‰ä¸‹é¢ï¼Œå¯ä»¥é€šè¿‡ä¸ºé™æ€èµ„æºç›®å½•æŒ‡å®šä¸€ä¸ªæŒ‚è½½è·¯å¾„çš„æ–¹å¼æ¥å®ç°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>app.use(&#39;/static&#39;, express.static(&#39;public&#39;))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œä½ å°±å¯ä»¥é€šè¿‡å¸¦æœ‰ â€œ/staticâ€ å‰ç¼€çš„åœ°å€æ¥è®¿é—® public ç›®å½•ä¸‹é¢çš„æ–‡ä»¶äº†ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>http://localhost:3000/static/images/kitten.jpg
http://localhost:3000/static/css/style.css
http://localhost:3000/static/js/app.js
http://localhost:3000/static/images/bg.png
http://localhost:3000/static/hello.html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å…­ã€ä½¿ç”¨ä¸­é—´ä»¶" tabindex="-1"><a class="header-anchor" href="#å…­ã€ä½¿ç”¨ä¸­é—´ä»¶" aria-hidden="true">#</a> å…­ã€ä½¿ç”¨ä¸­é—´ä»¶</h3><p>Express æ˜¯ä¸€ä¸ªè‡ªèº«åŠŸèƒ½æç®€ï¼Œå®Œå…¨æ˜¯ç”±è·¯ç”±å’Œä¸­é—´ä»¶æ„æˆä¸€ä¸ªçš„ web å¼€å‘æ¡†æ¶ï¼šä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œä¸€ä¸ª Express åº”ç”¨å°±æ˜¯åœ¨è°ƒç”¨å„ç§ä¸­é—´ä»¶ã€‚</p><p>ä¸­é—´ä»¶ï¼ˆMiddlewareï¼‰ æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥è®¿é—®è¯·æ±‚å¯¹è±¡ï¼ˆrequest object (req)ï¼‰, å“åº”å¯¹è±¡ï¼ˆresponse object (res)ï¼‰, å’Œ web åº”ç”¨ä¸­å¤„äºè¯·æ±‚-å“åº”å¾ªç¯æµç¨‹ä¸­çš„ä¸­é—´ä»¶ï¼Œä¸€èˆ¬è¢«å‘½åä¸º next çš„å˜é‡ã€‚</p><p>ä¸­é—´ä»¶çš„åŠŸèƒ½åŒ…æ‹¬ï¼š</p><ul><li>æ‰§è¡Œä»»ä½•ä»£ç ã€‚</li><li>ä¿®æ”¹è¯·æ±‚å’Œå“åº”å¯¹è±¡ã€‚</li><li>ç»ˆç»“è¯·æ±‚-å“åº”å¾ªç¯ã€‚</li><li>è°ƒç”¨å †æ ˆä¸­çš„ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ã€‚</li></ul><p>å¦‚æœå½“å‰ä¸­é—´ä»¶æ²¡æœ‰ç»ˆç»“è¯·æ±‚-å“åº”å¾ªç¯ï¼Œåˆ™å¿…é¡»è°ƒç”¨ next() æ–¹æ³•å°†æ§åˆ¶æƒäº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå¦åˆ™è¯·æ±‚å°±ä¼šæŒ‚èµ·ã€‚</p><p>Express åº”ç”¨å¯ä½¿ç”¨å¦‚ä¸‹å‡ ç§ä¸­é—´ä»¶ï¼š</p><ul><li>åº”ç”¨çº§ä¸­é—´ä»¶</li><li>è·¯ç”±çº§ä¸­é—´ä»¶</li><li>é”™è¯¯å¤„ç†ä¸­é—´ä»¶</li><li>å†…ç½®ä¸­é—´ä»¶</li><li>ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶</li></ul><p>ä½¿ç”¨å¯é€‰åˆ™æŒ‚è½½è·¯å¾„ï¼Œå¯åœ¨åº”ç”¨çº§åˆ«æˆ–è·¯ç”±çº§åˆ«è£…è½½ä¸­é—´ä»¶ã€‚å¦å¤–ï¼Œä½ è¿˜å¯ä»¥åŒæ—¶è£…åœ¨ä¸€ç³»åˆ—ä¸­é—´ä»¶å‡½æ•°ï¼Œä»è€Œåœ¨ä¸€ä¸ªæŒ‚è½½ç‚¹ä¸Šåˆ›å»ºä¸€ä¸ªå­ä¸­é—´ä»¶æ ˆã€‚</p><h4 id="_1ã€åº”ç”¨çº§ä¸­é—´ä»¶" tabindex="-1"><a class="header-anchor" href="#_1ã€åº”ç”¨çº§ä¸­é—´ä»¶" aria-hidden="true">#</a> 1ã€åº”ç”¨çº§ä¸­é—´ä»¶</h4><p>åº”ç”¨çº§ä¸­é—´ä»¶ç»‘å®šåˆ° app å¯¹è±¡ ä½¿ç”¨ app.use() å’Œ app.METHOD()ï¼Œ å…¶ä¸­ï¼Œ METHOD æ˜¯éœ€è¦å¤„ç†çš„ HTTP è¯·æ±‚çš„æ–¹æ³•ï¼Œä¾‹å¦‚ GET, PUT, POST ç­‰ç­‰ï¼Œå…¨éƒ¨å°å†™ã€‚ä¾‹å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ²¡æœ‰æŒ‚è½½è·¯å¾„çš„ä¸­é—´ä»¶ï¼Œåº”ç”¨çš„æ¯ä¸ªè¯·æ±‚éƒ½ä¼šæ‰§è¡Œè¯¥ä¸­é—´ä»¶</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Time:&#39;</span><span class="token punctuation">,</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æŒ‚è½½è‡³ /user/:id çš„ä¸­é—´ä»¶ï¼Œä»»ä½•æŒ‡å‘ /user/:id çš„è¯·æ±‚éƒ½ä¼šæ‰§è¡Œå®ƒ</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#39;/user/:id&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Request Type:&#39;</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è·¯ç”±å’Œå¥æŸ„å‡½æ•°(ä¸­é—´ä»¶ç³»ç»Ÿ)ï¼Œå¤„ç†æŒ‡å‘ /user/:id çš„ GET è¯·æ±‚</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/user/:id&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;USER&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢è¿™ä¸ªä¾‹å­å±•ç¤ºäº†åœ¨ä¸€ä¸ªæŒ‚è½½ç‚¹è£…è½½ä¸€ç»„ä¸­é—´ä»¶ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// ä¸€ä¸ªä¸­é—´ä»¶æ ˆï¼Œå¯¹ä»»ä½•æŒ‡å‘ /user/:id çš„ HTTP è¯·æ±‚æ‰“å°å‡ºç›¸å…³ä¿¡æ¯</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
	<span class="token string">&#39;/user/:id&#39;</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Request URL:&#39;</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>originalUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Request Type:&#39;</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½œä¸ºä¸­é—´ä»¶ç³»ç»Ÿçš„è·¯ç”±å¥æŸ„ï¼Œä½¿å¾—ä¸ºè·¯å¾„å®šä¹‰å¤šä¸ªè·¯ç”±æˆä¸ºå¯èƒ½ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œä¸ºæŒ‡å‘ /user/:id çš„ GET è¯·æ±‚å®šä¹‰äº†ä¸¤ä¸ªè·¯ç”±ã€‚ç¬¬äºŒä¸ªè·¯ç”±è™½ç„¶ä¸ä¼šå¸¦æ¥ä»»ä½•é—®é¢˜ï¼Œä½†å´æ°¸è¿œä¸ä¼šè¢«è°ƒç”¨ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªè·¯ç”±å·²ç»ç»ˆæ­¢äº†è¯·æ±‚-å“åº”å¾ªç¯ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// ä¸€ä¸ªä¸­é—´ä»¶æ ˆï¼Œå¤„ç†æŒ‡å‘ /user/:id çš„ GET è¯·æ±‚</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>
	<span class="token string">&#39;/user/:id&#39;</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ID:&#39;</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;User Info&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¤„ç† /user/:idï¼Œ æ‰“å°å‡ºç”¨æˆ· id</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/user/:id&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœéœ€è¦åœ¨ä¸­é—´ä»¶æ ˆä¸­è·³è¿‡å‰©ä½™ä¸­é—´ä»¶ï¼Œè°ƒç”¨ next(&#39;route&#39;) æ–¹æ³•å°†æ§åˆ¶æƒäº¤ç»™ä¸‹ä¸€ä¸ªè·¯ç”±ã€‚ æ³¨æ„ï¼š next(&#39;route&#39;) åªå¯¹ä½¿ç”¨ app.VERB() æˆ– router.VERB() åŠ è½½çš„ä¸­é—´ä»¶æœ‰æ•ˆã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// ä¸€ä¸ªä¸­é—´ä»¶æ ˆï¼Œå¤„ç†æŒ‡å‘ /user/:id çš„ GET è¯·æ±‚</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>
	<span class="token string">&#39;/user/:id&#39;</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// å¦‚æœ user id ä¸º 0, è·³åˆ°ä¸‹ä¸€ä¸ªè·¯ç”±</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&#39;route&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// å¦åˆ™å°†æ§åˆ¶æƒäº¤ç»™æ ˆä¸­ä¸‹ä¸€ä¸ªä¸­é—´ä»¶</span>
		<span class="token keyword">else</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// æ¸²æŸ“å¸¸è§„é¡µé¢</span>
		res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;regular&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¤„ç† /user/:idï¼Œ æ¸²æŸ“ä¸€ä¸ªç‰¹æ®Šé¡µé¢</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/user/:id&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;special&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2ã€è·¯ç”±çº§ä¸­é—´ä»¶" tabindex="-1"><a class="header-anchor" href="#_2ã€è·¯ç”±çº§ä¸­é—´ä»¶" aria-hidden="true">#</a> 2ã€è·¯ç”±çº§ä¸­é—´ä»¶</h4><p>è·¯ç”±çº§ä¸­é—´ä»¶å’Œåº”ç”¨çº§ä¸­é—´ä»¶ä¸€æ ·ï¼Œåªæ˜¯å®ƒç»‘å®šçš„å¯¹è±¡ä¸º express.Router()ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è·¯ç”±çº§ä½¿ç”¨ router.use() æˆ– router.VERB() åŠ è½½ã€‚</p><p>ä¸Šè¿°åœ¨åº”ç”¨çº§åˆ›å»ºçš„ä¸­é—´ä»¶ç³»ç»Ÿï¼Œå¯é€šè¿‡å¦‚ä¸‹ä»£ç æ”¹å†™ä¸ºè·¯ç”±çº§ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ²¡æœ‰æŒ‚è½½è·¯å¾„çš„ä¸­é—´ä»¶ï¼Œé€šè¿‡è¯¥è·¯ç”±çš„æ¯ä¸ªè¯·æ±‚éƒ½ä¼šæ‰§è¡Œè¯¥ä¸­é—´ä»¶</span>
router<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Time:&#39;</span><span class="token punctuation">,</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä¸€ä¸ªä¸­é—´ä»¶æ ˆï¼Œæ˜¾ç¤ºä»»ä½•æŒ‡å‘ /user/:id çš„ HTTP è¯·æ±‚çš„ä¿¡æ¯</span>
router<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
	<span class="token string">&#39;/user/:id&#39;</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Request URL:&#39;</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>originalUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Request Type:&#39;</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä¸€ä¸ªä¸­é—´ä»¶æ ˆï¼Œå¤„ç†æŒ‡å‘ /user/:id çš„ GET è¯·æ±‚</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>
	<span class="token string">&#39;/user/:id&#39;</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// å¦‚æœ user id ä¸º 0, è·³åˆ°ä¸‹ä¸€ä¸ªè·¯ç”±</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&#39;route&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// è´Ÿè´£å°†æ§åˆ¶æƒäº¤ç»™æ ˆä¸­ä¸‹ä¸€ä¸ªä¸­é—´ä»¶</span>
		<span class="token keyword">else</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// æ¸²æŸ“å¸¸è§„é¡µé¢</span>
		res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;regular&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¤„ç† /user/:idï¼Œ æ¸²æŸ“ä¸€ä¸ªç‰¹æ®Šé¡µé¢</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/user/:id&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
	res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;special&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å°†è·¯ç”±æŒ‚è½½è‡³åº”ç”¨</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> router<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3ã€é”™è¯¯å¤„ç†ä¸­é—´ä»¶" tabindex="-1"><a class="header-anchor" href="#_3ã€é”™è¯¯å¤„ç†ä¸­é—´ä»¶" aria-hidden="true">#</a> 3ã€é”™è¯¯å¤„ç†ä¸­é—´ä»¶</h3><blockquote><p>é”™è¯¯å¤„ç†ä¸­é—´ä»¶æœ‰ 4 ä¸ªå‚æ•°ï¼Œå®šä¹‰é”™è¯¯å¤„ç†ä¸­é—´ä»¶æ—¶å¿…é¡»ä½¿ç”¨è¿™ 4 ä¸ªå‚æ•°ã€‚å³ä½¿ä¸éœ€è¦ next å¯¹è±¡ï¼Œä¹Ÿå¿…é¡»åœ¨ç­¾åä¸­å£°æ˜å®ƒï¼Œå¦åˆ™ä¸­é—´ä»¶ä¼šè¢«è¯†åˆ«ä¸ºä¸€ä¸ªå¸¸è§„ä¸­é—´ä»¶ï¼Œä¸èƒ½å¤„ç†é”™è¯¯ã€‚</p></blockquote><p>é”™è¯¯å¤„ç†ä¸­é—´ä»¶å’Œå…¶ä»–ä¸­é—´ä»¶å®šä¹‰ç±»ä¼¼ï¼Œåªæ˜¯è¦ä½¿ç”¨ 4 ä¸ªå‚æ•°ï¼Œè€Œä¸æ˜¯ 3 ä¸ªï¼Œå…¶ç­¾åå¦‚ä¸‹ï¼š (err, req, res, next)ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>
	res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Something broke!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€å†…ç½®ä¸­é—´ä»¶" tabindex="-1"><a class="header-anchor" href="#_4ã€å†…ç½®ä¸­é—´ä»¶" aria-hidden="true">#</a> 4ã€å†…ç½®ä¸­é—´ä»¶</h3><p>ä» 4.x ç‰ˆæœ¬å¼€å§‹ï¼Œ, Express å·²ç»ä¸å†ä¾èµ– Connect äº†ã€‚é™¤äº† express.static, Express ä»¥å‰å†…ç½®çš„ä¸­é—´ä»¶ç°åœ¨å·²ç»å…¨éƒ¨å•ç‹¬ä½œä¸ºæ¨¡å—å®‰è£…ä½¿ç”¨äº†ã€‚è¯·å‚è€ƒ ä¸­é—´ä»¶åˆ—è¡¨ã€‚</p><p><strong>express.static(root, [options])</strong></p><p>express.static æ˜¯ Express å”¯ä¸€å†…ç½®çš„ä¸­é—´ä»¶ã€‚å®ƒåŸºäº serve-staticï¼Œè´Ÿè´£åœ¨ Express åº”ç”¨ä¸­ææ‰˜ç®¡é™æ€èµ„æºã€‚</p><p>å‚æ•° root æŒ‡æä¾›é™æ€èµ„æºçš„æ ¹ç›®å½•ã€‚</p><p>å¯é€‰çš„ options å‚æ•°æ‹¥æœ‰å¦‚ä¸‹å±æ€§ã€‚</p><table><thead><tr><th>å±æ€§</th><th>æè¿°</th><th>ç±»å‹</th><th>ç¼ºçœå€¼</th></tr></thead><tbody><tr><td>dotfiles</td><td>æ˜¯å¦å¯¹å¤–è¾“å‡ºæ–‡ä»¶åä»¥ç‚¹ï¼ˆ.ï¼‰å¼€å¤´çš„æ–‡ä»¶ã€‚å¯é€‰å€¼ä¸º â€œallowâ€ã€â€œdenyâ€ å’Œ â€œignoreâ€</td><td>String</td><td>â€œignoreâ€</td></tr><tr><td>etag</td><td>æ˜¯å¦å¯ç”¨ etag ç”Ÿæˆ</td><td>Boolean</td><td>true</td></tr><tr><td>extensions</td><td>è®¾ç½®æ–‡ä»¶æ‰©å±•åå¤‡ä»½é€‰é¡¹</td><td>Array</td><td>[]</td></tr><tr><td>index</td><td>å‘é€ç›®å½•ç´¢å¼•æ–‡ä»¶ï¼Œè®¾ç½®ä¸º false ç¦ç”¨ç›®å½•ç´¢å¼•ã€‚</td><td>Mixed</td><td>â€œindex.htmlâ€</td></tr><tr><td>lastModified</td><td>è®¾ç½® Last-Modified å¤´ä¸ºæ–‡ä»¶åœ¨æ“ä½œç³»ç»Ÿä¸Šçš„æœ€åä¿®æ”¹æ—¥æœŸã€‚å¯èƒ½å€¼ä¸º true æˆ– falseã€‚</td><td>Boolean</td><td>true</td></tr><tr><td>maxAge</td><td>ä»¥æ¯«ç§’æˆ–è€…å…¶å­—ç¬¦ä¸²æ ¼å¼è®¾ç½® Cache-Control å¤´çš„ max-age å±æ€§ã€‚</td><td>Number</td><td>0</td></tr><tr><td>redirect</td><td>å½“è·¯å¾„ä¸ºç›®å½•æ—¶ï¼Œé‡å®šå‘è‡³ â€œ/â€ã€‚</td><td>Boolean</td><td>true</td></tr><tr><td>setHeaders</td><td>è®¾ç½® HTTP å¤´ä»¥æä¾›æ–‡ä»¶çš„å‡½æ•°ã€‚</td><td>Function</td><td></td></tr></tbody></table><p>ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨äº† express.static ä¸­é—´ä»¶ï¼Œå…¶ä¸­çš„ options å¯¹è±¡ç»è¿‡äº†ç²¾å¿ƒçš„è®¾è®¡ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">dotfiles</span><span class="token operator">:</span> <span class="token string">&#39;ignore&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">etag</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;htm&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;html&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token literal-property property">maxAge</span><span class="token operator">:</span> <span class="token string">&#39;1d&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token function-variable function">setHeaders</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> path<span class="token punctuation">,</span> stat</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		res<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;x-timestamp&#39;</span><span class="token punctuation">,</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">&#39;public&#39;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¯ä¸ªåº”ç”¨å¯æœ‰å¤šä¸ªé™æ€ç›®å½•ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">&#39;public&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">&#39;uploads&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">&#39;files&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5ã€ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶" tabindex="-1"><a class="header-anchor" href="#_5ã€ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶" aria-hidden="true">#</a> 5ã€ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶</h4><p>é€šè¿‡ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ä»è€Œä¸º Express åº”ç”¨å¢åŠ æ›´å¤šåŠŸèƒ½ã€‚</p><p>å®‰è£…æ‰€éœ€åŠŸèƒ½çš„ node æ¨¡å—ï¼Œå¹¶åœ¨åº”ç”¨ä¸­åŠ è½½ï¼Œå¯ä»¥åœ¨åº”ç”¨çº§åŠ è½½ï¼Œä¹Ÿå¯ä»¥åœ¨è·¯ç”±çº§åŠ è½½ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­å®‰è£…å¹¶åŠ è½½äº†ä¸€ä¸ªè§£æ cookie çš„ä¸­é—´ä»¶ï¼š cookie-parser</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ npm install cookie-parser
var express = require(&#39;express&#39;)
var app = express()
var cookieParser = require(&#39;cookie-parser&#39;)

// åŠ è½½ç”¨äºè§£æ cookie çš„ä¸­é—´ä»¶
app.use(cookieParser())
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¸ƒã€åœ¨-express-ä¸­ä½¿ç”¨æ¨¡æ¿å¼•æ“" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€åœ¨-express-ä¸­ä½¿ç”¨æ¨¡æ¿å¼•æ“" aria-hidden="true">#</a> ä¸ƒã€åœ¨ Express ä¸­ä½¿ç”¨æ¨¡æ¿å¼•æ“</h3><p>éœ€è¦åœ¨åº”ç”¨ä¸­è¿›è¡Œå¦‚ä¸‹è®¾ç½®æ‰èƒ½è®© Express æ¸²æŸ“æ¨¡æ¿æ–‡ä»¶ï¼š</p><ul><li>views, æ”¾æ¨¡æ¿æ–‡ä»¶çš„ç›®å½•ï¼Œæ¯”å¦‚ï¼š app.set(&#39;views&#39;, &#39;./views&#39;)</li><li>view engine, æ¨¡æ¿å¼•æ“ï¼Œæ¯”å¦‚ï¼š app.set(&#39;view engine&#39;, &#39;ejs&#39;)</li></ul><h4 id="art-template" tabindex="-1"><a class="header-anchor" href="#art-template" aria-hidden="true">#</a> art-template</h4><p>art-template for express 4.x.</p><h5 id="_1ã€install" tabindex="-1"><a class="header-anchor" href="#_1ã€install" aria-hidden="true">#</a> 1ã€Install</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm install --save art-template
npm install --save express-art-template
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2ã€example" tabindex="-1"><a class="header-anchor" href="#_2ã€example" aria-hidden="true">#</a> 2ã€Example</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// view engine setup</span>
app<span class="token punctuation">.</span><span class="token function">engine</span><span class="token punctuation">(</span><span class="token string">&#39;art&#39;</span><span class="token punctuation">,</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express-art-template&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;view&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">debug</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;views&#39;</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;views&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;view engine&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;art&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// routes</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;index.art&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;aui&#39;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">tags</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;art&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;template&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;nodejs&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/Wj0028/TuziNotes.git/edit/main/Front/node/Basic.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: wj612712@outlook.com">V_wangjun</span><!--]--><!--]--></div></div></footer><nav class="page-nav"><!----><a href="/TuziNotes/Front/node/Job.html" class="nav-link next" aria-label="Html_é¢è¯•"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">Html_é¢è¯•<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"> </div><div class="copyright">Copyright Â© 2023 Tuzi</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/TuziNotes/assets/app-351592dd.js" defer></script>
  </body>
</html>
